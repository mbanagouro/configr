{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83d\ude80 ConfigR - Documenta\u00e7\u00e3o","text":"<p>Bem-vindo \u00e0 documenta\u00e7\u00e3o do ConfigR, uma biblioteca leve, extens\u00edvel e altamente perform\u00e1tica para configura\u00e7\u00f5es tipadas em runtime em aplica\u00e7\u00f5es .NET.</p>"},{"location":"#navegacao-rapida","title":"\ud83d\udcda Navega\u00e7\u00e3o R\u00e1pida","text":""},{"location":"#comecar-rapido","title":"\u26a1 Come\u00e7ar R\u00e1pido","text":"<ul> <li>In\u00edcio R\u00e1pido - Instale e configure em 5 minutos</li> <li>Configura\u00e7\u00e3o - Configure o ConfigR no seu projeto</li> </ul>"},{"location":"#providers-de-armazenamento","title":"\ud83d\uddc4\ufe0f Providers de Armazenamento","text":"<p>Escolha o backend que melhor se encaixa na sua infraestrutura:</p> <ul> <li>SQL Server - Padr\u00e3o, recomendado para a maioria dos casos</li> <li>MySQL - Alternativa leve e popular</li> <li>PostgreSQL (Npgsql) - Open source e robusto</li> <li>MongoDB - Banco de dados NoSQL</li> <li>Redis - Cache em mem\u00f3ria de alta performance</li> <li>RavenDB - Banco de dados multi-modelo</li> </ul>"},{"location":"#conceitos-avancados","title":"\ud83c\udfaf Conceitos Avan\u00e7ados","text":"<ul> <li>Scopes - Multi-tenant e isolamento de configura\u00e7\u00f5es</li> <li>Cache - Entenda como o cache em mem\u00f3ria funciona</li> <li>Extensibilidade - Crie providers personalizados</li> </ul>"},{"location":"#testes-e-qualidade","title":"\ud83e\uddea Testes e Qualidade","text":"<ul> <li>Testes - Como testar sua aplica\u00e7\u00e3o com ConfigR</li> <li>API Reference - Documenta\u00e7\u00e3o completa da API</li> </ul>"},{"location":"#para-que-serve-o-configr","title":"\ud83c\udfaf Para que serve o ConfigR?","text":""},{"location":"#ideal-para","title":"\u2705 Ideal para:","text":"<ul> <li>Backoffices configur\u00e1veis - Altere comportamentos sem deploy</li> <li>Plataformas multi-tenant - Isolamento de configura\u00e7\u00f5es por cliente</li> <li>Feature flags - Ative/desative funcionalidades dinamicamente</li> <li>Sistemas evolutivos - Configura\u00e7\u00f5es que mudam em runtime</li> <li>E-commerce, ERP, SaaS - Plataformas que precisam de flexibilidade</li> </ul>"},{"location":"#caracteristicas-principais","title":"\ud83c\udf81 Caracter\u00edsticas Principais","text":"Caracter\u00edstica Benef\u00edcio \ud83d\udcaa Tipagem Forte Type-safe, sem magic strings \ud83d\ude80 Cache em Mem\u00f3ria Performance otimizada \ud83e\udde9 Providers Plug\u00e1veis Escolha o backend desejado \ud83e\uddf1 Multi-tenant Isolamento de dados por escopo \ud83d\udd27 Customiz\u00e1vel Serializa\u00e7\u00e3o e comportamento flex\u00edveis \ud83e\udde0 Simples Zero reflection pesada ou m\u00e1gica"},{"location":"#comecar-em-1-minuto","title":"\ud83d\ude80 Come\u00e7ar em 1 Minuto","text":""},{"location":"#1-instale","title":"1. Instale","text":"<pre><code>dotnet add package ConfigR.Core\ndotnet add package ConfigR.SqlServer\n</code></pre>"},{"location":"#2-configure","title":"2. Configure","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"#3-use","title":"3. Use","text":"<pre><code>public sealed class MeuConfig\n{\n    public string Valor { get; set; } = \"padr\u00e3o\";\n}\n\n// Ler\nvar config = await configR.GetAsync&lt;MeuConfig&gt;();\n\n// Atualizar\nconfig.Valor = \"novo\";\nawait configR.SaveAsync(config);\n</code></pre>"},{"location":"#proximos-passos","title":"\ud83d\udcd6 Pr\u00f3ximos Passos","text":"<ul> <li>\ud83d\udc49 Comece agora: Guia de In\u00edcio R\u00e1pido</li> <li>\ud83d\udd27 Configure seu provider: Configura\u00e7\u00e3o</li> <li>\ud83d\udcda Aprenda conceitos avan\u00e7ados: Scopes</li> </ul>"},{"location":"CONTRIBUTING/","title":"Guia de Contribui\u00e7\u00e3o","text":"<p>Agradecemos seu interesse em contribuir para o ConfigR! Este guia vai ajudar voc\u00ea a colaborar efetivamente.</p>"},{"location":"CONTRIBUTING/#como-contribuir","title":"Como Contribuir","text":""},{"location":"CONTRIBUTING/#1-fork-e-clone","title":"1. Fork e Clone","text":"<pre><code># Fork o reposit\u00f3rio no GitHub\ngit clone https://github.com/seu-usuario/configr.git\ncd configr\n</code></pre>"},{"location":"CONTRIBUTING/#2-crie-uma-branch","title":"2. Crie uma Branch","text":"<pre><code>git checkout -b feature/minha-feature\n# ou\ngit checkout -b bugfix/meu-bug\n</code></pre>"},{"location":"CONTRIBUTING/#3-faca-suas-mudancas","title":"3. Fa\u00e7a Suas Mudan\u00e7as","text":"<ul> <li>Siga o estilo de c\u00f3digo existente</li> <li>Adicione testes para novas funcionalidades</li> <li>Atualize a documenta\u00e7\u00e3o se necess\u00e1rio</li> </ul>"},{"location":"CONTRIBUTING/#4-commit-e-push","title":"4. Commit e Push","text":"<pre><code>git add .\ngit commit -m \"Adicionar descri\u00e7\u00e3o clara e concisa\"\ngit push origin feature/minha-feature\n</code></pre>"},{"location":"CONTRIBUTING/#5-abra-um-pull-request","title":"5. Abra um Pull Request","text":"<p>No GitHub, abra um PR descrevendo: - O que voc\u00ea fez - Por que fez - Como testar</p>"},{"location":"CONTRIBUTING/#checklist-antes-de-submeter","title":"Checklist antes de Submeter","text":"<ul> <li>[ ] C\u00f3digo segue o estilo do projeto</li> <li>[ ] Testes foram adicionados/atualizados</li> <li>[ ] Documenta\u00e7\u00e3o foi atualizada</li> <li>[ ] Build passa localmente (<code>dotnet build</code>)</li> <li>[ ] Testes passam (<code>dotnet test</code>)</li> <li>[ ] N\u00e3o h\u00e1 warnings</li> </ul>"},{"location":"CONTRIBUTING/#executar-testes-localmente","title":"Executar Testes Localmente","text":""},{"location":"CONTRIBUTING/#testes-unitarios","title":"Testes Unit\u00e1rios","text":"<pre><code>dotnet test\n</code></pre>"},{"location":"CONTRIBUTING/#testes-com-docker-compose","title":"Testes com Docker Compose","text":"<pre><code>docker-compose up -d\ndotnet test\ndocker-compose down\n</code></pre>"},{"location":"CONTRIBUTING/#testes-por-provider","title":"Testes por Provider","text":"<pre><code># SQL Server\ndotnet test --filter \"TestCategory=SqlServer\"\n\n# MySQL\ndotnet test --filter \"TestCategory=MySql\"\n\n# PostgreSQL\ndotnet test --filter \"TestCategory=Npgsql\"\n\n# MongoDB\ndotnet test --filter \"TestCategory=MongoDB\"\n\n# Redis\ndotnet test --filter \"TestCategory=Redis\"\n\n# RavenDB\ndotnet test --filter \"TestCategory=RavenDB\"\n</code></pre>"},{"location":"CONTRIBUTING/#tipos-de-contribuicao","title":"Tipos de Contribui\u00e7\u00e3o","text":""},{"location":"CONTRIBUTING/#reportar-bugs","title":"Reportar Bugs","text":"<p>Abra uma issue com: - T\u00edtulo descritivo - Descri\u00e7\u00e3o clara do problema - Passos para reproduzir - Comportamento esperado - Comportamento atual - Ambiente (SO, vers\u00e3o .NET, etc)</p>"},{"location":"CONTRIBUTING/#sugerir-features","title":"Sugerir Features","text":"<p>Abra uma discussion ou issue com: - Caso de uso - Benef\u00edcios - Exemplos de uso - Poss\u00edvel implementa\u00e7\u00e3o</p>"},{"location":"CONTRIBUTING/#melhorar-documentacao","title":"Melhorar Documenta\u00e7\u00e3o","text":"<ul> <li>Corrija typos</li> <li>Adicione exemplos</li> <li>Melhore clareza</li> <li>Traduza para outros idiomas</li> </ul>"},{"location":"CONTRIBUTING/#novos-providers","title":"Novos Providers","text":"<ol> <li>Crie um fork</li> <li>Implemente <code>IConfigStore</code></li> <li>Adicione testes completos</li> <li>Atualize documenta\u00e7\u00e3o</li> <li>Abra um PR</li> </ol>"},{"location":"CONTRIBUTING/#padroes-de-codigo","title":"Padr\u00f5es de C\u00f3digo","text":""},{"location":"CONTRIBUTING/#nomenclatura","title":"Nomenclatura","text":"<ul> <li>Classes: <code>PascalCase</code></li> <li>M\u00e9todos: <code>PascalCase</code></li> <li>Vari\u00e1veis: <code>camelCase</code></li> <li>Constantes: <code>UPPER_SNAKE_CASE</code></li> </ul>"},{"location":"CONTRIBUTING/#exemplo","title":"Exemplo","text":"<pre><code>public sealed class MyConfigStore : IConfigStore\n{\n    private readonly string _connectionString;\n    private const int DEFAULT_TIMEOUT = 30;\n\n    public async Task&lt;string?&gt; GetAsync(string key, string? scope = null)\n    {\n        // Implementa\u00e7\u00e3o\n    }\n}\n</code></pre>"},{"location":"CONTRIBUTING/#documentacao-de-codigo","title":"Documenta\u00e7\u00e3o de C\u00f3digo","text":"<pre><code>/// &lt;summary&gt;\n/// Recupera uma configura\u00e7\u00e3o do armazenamento.\n/// &lt;/summary&gt;\n/// &lt;param name=\"key\"&gt;Chave da configura\u00e7\u00e3o&lt;/param&gt;\n/// &lt;param name=\"scope\"&gt;Escopo opcional&lt;/param&gt;\n/// &lt;returns&gt;Valor da configura\u00e7\u00e3o ou null&lt;/returns&gt;\npublic async Task&lt;string?&gt; GetAsync(string key, string? scope = null);\n</code></pre>"},{"location":"CONTRIBUTING/#seguranca","title":"Seguran\u00e7a","text":"<p>Se encontrar uma vulnerabilidade de seguran\u00e7a:</p> <ol> <li>N\u00c3O abra uma issue p\u00fablica</li> <li>Envie um email para [security@configr.dev]</li> <li>Descreva a vulnerabilidade</li> <li>Aguarde a resposta</li> </ol>"},{"location":"CONTRIBUTING/#licenca","title":"Licen\u00e7a","text":"<p>Ao contribuir, voc\u00ea concorda que seu c\u00f3digo ser\u00e1 licenciado sob a MIT License.</p>"},{"location":"CONTRIBUTING/#agradecimentos","title":"\ud83d\ude4f Agradecimentos","text":"<p>Muito obrigado por contribuir! Seu trabalho ajuda a melhorar ConfigR para todos.</p> <p>D\u00favidas? Abra uma discussion no GitHub!</p>"},{"location":"FAQ/","title":"\u2753 Perguntas Frequentes (FAQ)","text":"<p>Respostas para perguntas comuns sobre ConfigR.</p>"},{"location":"FAQ/#instalacao-e-setup","title":"\ud83d\udce6 Instala\u00e7\u00e3o e Setup","text":""},{"location":"FAQ/#p-qual-e-a-versao-minima-de-net-suportada","title":"P: Qual \u00e9 a vers\u00e3o m\u00ednima de .NET suportada?","text":"<p>R: ConfigR suporta .NET 8.0 e superiores (.NET 8, 9, 10).</p>"},{"location":"FAQ/#p-posso-usar-configr-com-net-framework","title":"P: Posso usar ConfigR com .NET Framework?","text":"<p>R: N\u00e3o. ConfigR \u00e9 exclusivamente para .NET moderno (.NET 8+).</p>"},{"location":"FAQ/#p-qual-provider-devo-escolher","title":"P: Qual provider devo escolher?","text":"<p>R:  - SQL Server: Padr\u00e3o, recomendado para maioria dos casos - PostgreSQL: Se voc\u00ea j\u00e1 usa PostgreSQL - MySQL: Mais leve, hosting barato - MongoDB: Para dados semi-estruturados - Redis: Para performance cr\u00edtica - RavenDB: Para seguran\u00e7a enterprise</p>"},{"location":"FAQ/#p-posso-usar-multiplos-providers","title":"P: Posso usar m\u00faltiplos providers?","text":"<p>R: N\u00e3o simultaneamente. Registre apenas um provider por aplica\u00e7\u00e3o.</p>"},{"location":"FAQ/#uso","title":"\ud83c\udfaf Uso","text":""},{"location":"FAQ/#p-posso-usar-multiplas-classes-de-configuracao","title":"P: Posso usar m\u00faltiplas classes de configura\u00e7\u00e3o?","text":"<p>R: Sim! Voc\u00ea pode ter quantas classes quiser. Cada uma \u00e9 armazenada com sua pr\u00f3pria chave.</p> <pre><code>var checkout = await configR.GetAsync&lt;CheckoutConfig&gt;();\nvar payment = await configR.GetAsync&lt;PaymentConfig&gt;();\nvar shipping = await configR.GetAsync&lt;ShippingConfig&gt;();\n</code></pre>"},{"location":"FAQ/#p-como-lido-com-tipos-complexos","title":"P: Como lido com tipos complexos?","text":"<p>R: ConfigR serializa automaticamente para JSON. Use tipos JSON-serializable:</p> <pre><code>public sealed class AdvancedConfig\n{\n    public string Name { get; set; }\n    public int[] Ids { get; set; }\n    public Dictionary&lt;string, string&gt; Settings { get; set; }\n}\n</code></pre>"},{"location":"FAQ/#p-posso-herdar-de-uma-classe-de-configuracao","title":"P: Posso herdar de uma classe de configura\u00e7\u00e3o?","text":"<p>R: N\u00e3o \u00e9 recomendado. Use composi\u00e7\u00e3o:</p> <pre><code>// \u274c Evitar\npublic class MyConfig : BaseConfig { }\n\n// \u2705 Fazer\npublic class MyConfig\n{\n    public BaseSettings Base { get; set; }\n    public MySpecificSettings Specific { get; set; }\n}\n</code></pre>"},{"location":"FAQ/#p-o-que-acontece-se-a-configuracao-nao-existir","title":"P: O que acontece se a configura\u00e7\u00e3o n\u00e3o existir?","text":"<p>R: Retorna uma nova inst\u00e2ncia com valores padr\u00e3o da classe.</p> <pre><code>// Se n\u00e3o existir CheckoutConfig no banco:\nvar config = await configR.GetAsync&lt;CheckoutConfig&gt;();\n// Retorna: new CheckoutConfig { LoginRequired = true, MaxItems = 20 }\n</code></pre>"},{"location":"FAQ/#cache-e-performance","title":"\u23f1\ufe0f Cache e Performance","text":""},{"location":"FAQ/#p-como-funciona-o-cache","title":"P: Como funciona o cache?","text":"<p>R: ConfigR caches em mem\u00f3ria automaticamente. Cada configura\u00e7\u00e3o \u00e9 cacheada por um tempo configur\u00e1vel (padr\u00e3o: 5 minutos).</p>"},{"location":"FAQ/#p-como-invalido-o-cache","title":"P: Como invalido o cache?","text":"<p>R: Automaticamente quando voc\u00ea chama <code>SaveAsync()</code>:</p> <pre><code>var config = await configR.GetAsync&lt;MyConfig&gt;();\nconfig.Value = \"new\";\nawait configR.SaveAsync(config);  // Cache invalidado aqui!\n</code></pre>"},{"location":"FAQ/#p-posso-desabilitar-o-cache","title":"P: Posso desabilitar o cache?","text":"<p>R: Sim, configurando dura\u00e7\u00e3o zero:</p> <pre><code>builder.Services.AddConfigR(options =&gt;\n{\n    options.CacheDuration = TimeSpan.Zero;\n})\n</code></pre> <p>\u26a0\ufe0f Use com cuidado em produ\u00e7\u00e3o!</p>"},{"location":"FAQ/#p-como-monitoro-a-performance","title":"P: Como monitoro a performance?","text":"<p>R: Configure logging:</p> <pre><code>builder.Services.AddLogging(config =&gt;\n{\n    config.AddConsole();\n    config.SetMinimumLevel(LogLevel.Debug);\n});\n</code></pre>"},{"location":"FAQ/#multi-tenant","title":"\ud83c\udf10 Multi-tenant","text":""},{"location":"FAQ/#p-como-uso-configr-em-aplicacao-multi-tenant","title":"P: Como uso ConfigR em aplica\u00e7\u00e3o multi-tenant?","text":"<p>R: Use scopes:</p> <pre><code>// Ler config de tenant espec\u00edfico\nvar tenantConfig = await configR.GetAsync&lt;MyConfig&gt;(\"tenant-123\");\n\n// Salvar config de tenant espec\u00edfico\nawait configR.SaveAsync(config, \"tenant-123\");\n</code></pre>"},{"location":"FAQ/#p-como-extraio-o-tenant-id-automaticamente","title":"P: Como extraio o tenant ID automaticamente?","text":"<p>R: Use middleware ou <code>IHttpContextAccessor</code>:</p> <pre><code>public class ConfigService\n{\n    private readonly IConfigR _configR;\n    private readonly IHttpContextAccessor _httpContextAccessor;\n\n    public async Task&lt;MyConfig&gt; GetConfig()\n    {\n        var tenantId = _httpContextAccessor.HttpContext?.Items[\"TenantId\"]?.ToString();\n        return await _configR.GetAsync&lt;MyConfig&gt;(tenantId);\n    }\n}\n</code></pre>"},{"location":"FAQ/#p-posso-compartilhar-configuracoes-entre-tenants","title":"P: Posso compartilhar configura\u00e7\u00f5es entre tenants?","text":"<p>R: Sim, usando configura\u00e7\u00f5es sem scope como \"padr\u00e3o\" e fallback:</p> <pre><code>var tenantConfig = await configR.GetAsync&lt;MyConfig&gt;(\"tenant-123\");\nif (tenantConfig == null)\n{\n    tenantConfig = await configR.GetAsync&lt;MyConfig&gt;();  // Padr\u00e3o\n}\n</code></pre>"},{"location":"FAQ/#seguranca","title":"\ud83d\udd12 Seguran\u00e7a","text":""},{"location":"FAQ/#p-as-configuracoes-sao-criptografadas","title":"P: As configura\u00e7\u00f5es s\u00e3o criptografadas?","text":"<p>R: Por padr\u00e3o, n\u00e3o. Para criptografia: - Implemente um custom serializer - Use RavenDB (suporte nativo) - Criptografe dados sens\u00edveis antes de salvar</p>"},{"location":"FAQ/#p-como-lido-com-dados-sensiveis","title":"P: Como lido com dados sens\u00edveis?","text":"<p>R: </p> <ol> <li>N\u00e3o armazene em ConfigR: Use Azure Key Vault, AWS Secrets Manager</li> <li>Criptografe: Se precisar armazenar, criptografe antes</li> <li>Audit: Implemente logging de acesso</li> </ol> <pre><code>// Exemplo: Criptografar antes de salvar\nvar config = new MyConfig { ApiKey = Encrypt(\"my-secret\") };\nawait configR.SaveAsync(config);\n\n// Descriptografar ao ler\nvar saved = await configR.GetAsync&lt;MyConfig&gt;();\nvar apiKey = Decrypt(saved.ApiKey);\n</code></pre>"},{"location":"FAQ/#p-posso-usar-configr-com-dados-pii","title":"P: Posso usar ConfigR com dados PII?","text":"<p>R: N\u00e3o recomendado. ConfigR \u00e9 para configura\u00e7\u00f5es de neg\u00f3cio, n\u00e3o dados pessoais.</p>"},{"location":"FAQ/#testes","title":"\ud83e\uddea Testes","text":""},{"location":"FAQ/#p-como-testo-com-configr","title":"P: Como testo com ConfigR?","text":"<p>R: Use um provider em mem\u00f3ria ou mock:</p> <pre><code>// Mock\nvar mockConfigR = new Mock&lt;IConfigR&gt;();\nmockConfigR.Setup(x =&gt; x.GetAsync&lt;MyConfig&gt;(null, default))\n    .ReturnsAsync(new MyConfig { /* ... */ });\n\nvar service = new MyService(mockConfigR.Object);\n</code></pre>"},{"location":"FAQ/#p-como-rodo-testes-de-integracao","title":"P: Como rodo testes de integra\u00e7\u00e3o?","text":"<p>R: Use Docker Compose ou containers locais:</p> <pre><code>docker-compose up -d\ndotnet test\ndocker-compose down\n</code></pre>"},{"location":"FAQ/#migracao","title":"\ud83d\udd04 Migra\u00e7\u00e3o","text":""},{"location":"FAQ/#p-como-migro-de-appsettingsjson-para-configr","title":"P: Como migro de appsettings.json para ConfigR?","text":"<p>R:</p> <ol> <li>Identifique configura\u00e7\u00f5es din\u00e2micas</li> <li>Crie classes de configura\u00e7\u00e3o</li> <li>Salve valores iniciais no banco</li> <li>Remova de appsettings.json</li> </ol> <pre><code>// Antes: appsettings.json\n\"MaxItems\": 20\n\n// Depois: Classe + ConfigR\npublic class CheckoutConfig\n{\n    public int MaxItems { get; set; } = 20;\n}\n\nawait configR.SaveAsync(new CheckoutConfig());\n</code></pre>"},{"location":"FAQ/#p-posso-coexistir-appsettingsjson-e-configr","title":"P: Posso coexistir appsettings.json e ConfigR?","text":"<p>R: Sim! Use ambos:</p> <pre><code>// Valores est\u00e1ticos do appsettings.json\nvar staticConfig = configuration.GetSection(\"StaticSettings\");\n\n// Valores din\u00e2micos do ConfigR\nvar dynamicConfig = await configR.GetAsync&lt;DynamicSettings&gt;();\n</code></pre>"},{"location":"FAQ/#documentacao","title":"\ud83d\udcd6 Documenta\u00e7\u00e3o","text":""},{"location":"FAQ/#p-onde-encontro-documentacao","title":"P: Onde encontro documenta\u00e7\u00e3o?","text":"<p>R: Em https://mbanagouro.github.io/configr</p>"},{"location":"FAQ/#p-a-documentacao-esta-em-qual-idioma","title":"P: A documenta\u00e7\u00e3o est\u00e1 em qual idioma?","text":"<p>R: Portugu\u00eas (pt-BR) e ingl\u00eas (interface material).</p>"},{"location":"FAQ/#p-como-contribuo-para-a-documentacao","title":"P: Como contribuo para a documenta\u00e7\u00e3o?","text":"<p>R: Veja Guia de Contribui\u00e7\u00e3o</p>"},{"location":"FAQ/#troubleshooting","title":"\ud83d\udd27 Troubleshooting","text":""},{"location":"FAQ/#p-recebo-erro-connection-refused","title":"P: Recebo erro \"Connection refused\"","text":"<p>R:  1. Verifique se banco de dados est\u00e1 rodando 2. Confirme connection string 3. Teste conectividade: <code>ping localhost</code></p>"},{"location":"FAQ/#p-erro-tabela-nao-existe","title":"P: Erro \"Tabela n\u00e3o existe\"","text":"<p>R: Crie a tabela manualmente ou configure <code>AutoCreateTable = true</code>.</p>"},{"location":"FAQ/#p-erro-serializacao-falhou","title":"P: Erro \"Serializa\u00e7\u00e3o falhou\"","text":"<p>R:  - Use tipos JSON-serializable - Classe precisa de construtor sem par\u00e2metros - Propriedades devem ser p\u00fablicas</p>"},{"location":"FAQ/#p-performance-esta-lenta","title":"P: Performance est\u00e1 lenta","text":"<p>R: 1. Verifique cache (deve estar ativo) 2. Analise queries no banco 3. Considere aumentar <code>CacheDuration</code></p>"},{"location":"FAQ/#ainda-tem-duvidas","title":"\u2753 Ainda tem d\u00favidas?","text":"<ul> <li>\ud83d\udcac Abra uma discussion</li> <li>\ud83d\udc1b Reporte um bug</li> <li>\ud83d\udce7 Entre em contato com autor</li> </ul> <p>Atualizado: Dezembro 2024</p>"},{"location":"api-reference/","title":"API Reference","text":"<p>Documenta\u00e7\u00e3o completa da API do ConfigR.</p>"},{"location":"api-reference/#interface-principal-iconfigr","title":"\ud83c\udfaf Interface Principal - <code>IConfigR</code>","text":"<p>Interface central para ler e escrever configura\u00e7\u00f5es.</p>"},{"location":"api-reference/#getasync","title":"GetAsync","text":"<p>Recupera uma configura\u00e7\u00e3o tipada.</p> <pre><code>Task&lt;T&gt; GetAsync&lt;T&gt;(string? scope = null) where T : class, new();\n</code></pre> <p>Par\u00e2metros: - <code>scope</code> (optional) - Escopo/tenant da configura\u00e7\u00e3o. Se omitido, usa configura\u00e7\u00e3o padr\u00e3o.</p> <p>Retorno: - Inst\u00e2ncia tipada da configura\u00e7\u00e3o - Se n\u00e3o encontrada, retorna nova inst\u00e2ncia com valores padr\u00e3o</p> <p>Exemplos:</p> <pre><code>// Configura\u00e7\u00e3o padr\u00e3o\nvar config = await configR.GetAsync&lt;CheckoutConfig&gt;();\n\n// Configura\u00e7\u00e3o de um tenant espec\u00edfico\nvar tenantConfig = await configR.GetAsync&lt;CheckoutConfig&gt;(\"tenant-123\");\n</code></pre>"},{"location":"api-reference/#saveasync","title":"SaveAsync","text":"<p>Salva uma configura\u00e7\u00e3o tipada.</p> <pre><code>Task SaveAsync&lt;T&gt;(T value, string? scope = null) where T : class;\n</code></pre> <p>Par\u00e2metros: - <code>value</code> - Inst\u00e2ncia de configura\u00e7\u00e3o a salvar - <code>scope</code> (optional) - Escopo/tenant onde salvar</p> <p>Comportamento: - Se existir, atualiza a configura\u00e7\u00e3o - Se n\u00e3o existir, cria nova - Invalida automaticamente o cache</p> <p>Exemplos:</p> <pre><code>var config = new CheckoutConfig { MaxItems = 50 };\n\n// Salvar como padr\u00e3o\nawait configR.SaveAsync(config);\n\n// Salvar para tenant espec\u00edfico\nawait configR.SaveAsync(config, \"tenant-123\");\n</code></pre>"},{"location":"api-reference/#deleteasync","title":"DeleteAsync","text":"<p>Remove uma configura\u00e7\u00e3o.</p> <pre><code>Task DeleteAsync&lt;T&gt;(string? scope = null) where T : class;\n</code></pre> <p>Par\u00e2metros: - <code>scope</code> (optional) - Escopo/tenant de onde remover</p> <p>Exemplos:</p> <pre><code>// Remover configura\u00e7\u00e3o padr\u00e3o\nawait configR.DeleteAsync&lt;CheckoutConfig&gt;();\n\n// Remover configura\u00e7\u00e3o de tenant\nawait configR.DeleteAsync&lt;CheckoutConfig&gt;(\"tenant-123\");\n</code></pre>"},{"location":"api-reference/#getallasync","title":"GetAllAsync","text":"<p>Recupera todas as configura\u00e7\u00f5es de um escopo.</p> <pre><code>Task&lt;IEnumerable&lt;(string Key, string Value)&gt;&gt; GetAllAsync(string? scope = null);\n</code></pre> <p>Par\u00e2metros: - <code>scope</code> (optional) - Escopo/tenant</p> <p>Retorno: - Enumer\u00e1vel com tuplas (Key, Value)</p> <p>Exemplos:</p> <pre><code>// Todas as configura\u00e7\u00f5es padr\u00e3o\nvar all = await configR.GetAllAsync();\n\n// Todas as configura\u00e7\u00f5es de um tenant\nvar tenantAll = await configR.GetAllAsync(\"tenant-123\");\n\n// Iterar\nforeach (var (key, value) in await configR.GetAllAsync())\n{\n    Console.WriteLine($\"{key}: {value}\");\n}\n</code></pre>"},{"location":"api-reference/#interface-de-armazenamento-iconfigstore","title":"\ud83d\udd2a Interface de Armazenamento - <code>IConfigStore</code>","text":"<p>Interface de baixo n\u00edvel para implementa\u00e7\u00e3o de providers.</p>"},{"location":"api-reference/#getasync_1","title":"GetAsync","text":"<p>Obt\u00e9m uma entrada de configura\u00e7\u00e3o por chave e escopo opcional.</p> <pre><code>Task&lt;ConfigEntry?&gt; GetAsync(string key, string? scope = null);\n</code></pre> <p>Par\u00e2metros: - <code>key</code> - Chave da configura\u00e7\u00e3o - <code>scope</code> (optional) - Escopo opcional</p> <p>Retorno: - <code>ConfigEntry</code> se encontrado - <code>null</code> se n\u00e3o encontrado</p>"},{"location":"api-reference/#getallasync_1","title":"GetAllAsync","text":"<p>Obt\u00e9m todas as entradas de configura\u00e7\u00e3o para um escopo.</p> <pre><code>Task&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt; GetAllAsync(string? scope = null);\n</code></pre> <p>Par\u00e2metros: - <code>scope</code> (optional) - Escopo opcional</p> <p>Retorno: - Dicion\u00e1rio somente leitura com todas as entradas do escopo</p>"},{"location":"api-reference/#upsertasync","title":"UpsertAsync","text":"<p>Insere ou atualiza entradas de configura\u00e7\u00e3o.</p> <pre><code>Task UpsertAsync(IEnumerable&lt;ConfigEntry&gt; entries, string? scope = null);\n</code></pre> <p>Par\u00e2metros: - <code>entries</code> - Cole\u00e7\u00e3o de entradas a serem inseridas/atualizadas - <code>scope</code> (optional) - Escopo opcional</p> <p>ConfigEntry:</p> <pre><code>public sealed class ConfigEntry\n{\n    public string? Key { get; init; }\n    public string? Value { get; init; }\n    public string? Scope { get; init; }\n}\n</code></pre>"},{"location":"api-reference/#injecao-de-dependencia","title":"\u2699\ufe0f Inje\u00e7\u00e3o de Depend\u00eancia","text":""},{"location":"api-reference/#registrar-configr","title":"Registrar ConfigR","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseSqlServer(connectionString);\n</code></pre>"},{"location":"api-reference/#resolver-iconfigr","title":"Resolver IConfigR","text":"<pre><code>// Em controller, service, etc\npublic class MyService\n{\n    private readonly IConfigR _configR;\n\n    public MyService(IConfigR configR)\n    {\n        _configR = configR;\n    }\n}\n</code></pre>"},{"location":"api-reference/#pacotes-nuget","title":"\ud83d\udce6 Pacotes NuGet","text":""},{"location":"api-reference/#core","title":"Core","text":"<pre><code>dotnet add package ConfigR.Core\n</code></pre> <p>Inclui: - <code>IConfigR</code> interface - DI extensions - Cache em mem\u00f3ria com dura\u00e7\u00e3o configur\u00e1vel - Serializador JSON padr\u00e3o (System.Text.Json)</p>"},{"location":"api-reference/#providers","title":"Providers","text":"<pre><code># SQL Server\ndotnet add package ConfigR.SqlServer\n\n# MySQL\ndotnet add package ConfigR.MySql\n\n# PostgreSQL\ndotnet add package ConfigR.Npgsql\n\n# MongoDB\ndotnet add package ConfigR.MongoDB\n\n# Redis\ndotnet add package ConfigR.Redis\n\n# RavenDB\ndotnet add package ConfigR.RavenDB\n</code></pre>"},{"location":"api-reference/#opcoes-de-configuracao","title":"\ud83d\udd27 Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":""},{"location":"api-reference/#configroptions","title":"ConfigROptions","text":"<p>Configura\u00e7\u00f5es do ConfigR core:</p> <pre><code>builder.Services.AddConfigR(options =&gt;\n{\n    options.CacheDuration = TimeSpan.FromMinutes(10);\n    options.DefaultScope = () =&gt; \"Default\";\n});\n</code></pre> <p>Propriedades:</p> Propriedade Tipo Padr\u00e3o Descri\u00e7\u00e3o <code>CacheDuration</code> <code>TimeSpan?</code> <code>TimeSpan.FromMinutes(10)</code> Dura\u00e7\u00e3o do cache em mem\u00f3ria. <code>null</code> ou <code>TimeSpan.Zero</code> desabilita o cache. <code>DefaultScope</code> <code>Func&lt;string&gt;</code> <code>() =&gt; \"Default\"</code> Fun\u00e7\u00e3o que retorna o escopo padr\u00e3o para configura\u00e7\u00f5es. <p>Exemplos:</p> <pre><code>// Cache curto (1 minuto)\nbuilder.Services.AddConfigR(options =&gt;\n{\n    options.CacheDuration = TimeSpan.FromMinutes(1);\n});\n\n// Cache longo (1 hora)\nbuilder.Services.AddConfigR(options =&gt;\n{\n    options.CacheDuration = TimeSpan.FromHours(1);\n});\n\n// Sem cache (sempre fresco do banco)\nbuilder.Services.AddConfigR(options =&gt;\n{\n    options.CacheDuration = TimeSpan.Zero;\n});\n\n// Customizar escopo padr\u00e3o\nbuilder.Services.AddConfigR(options =&gt;\n{\n    options.DefaultScope = () =&gt; Environment.GetEnvironmentVariable(\"TENANT_ID\") ?? \"Default\";\n});\n ```\n\n---\n\n## \ud83d\udcbe Interface de Cache - `IConfigCache`\n\nInterface para implementa\u00e7\u00e3o customizada de cache.\n\n### TryGetAll\n\nTenta recuperar todas as entradas de cache para um escopo.\n\n```csharp\nbool TryGetAll(string scope, out IReadOnlyDictionary&lt;string, ConfigEntry&gt; entries);\n</code></pre> <p>Par\u00e2metros: - <code>scope</code> - Chave do escopo - <code>entries</code> - Sa\u00edda com as entradas em cache</p> <p>Retorno: - <code>true</code> se encontrado em cache e n\u00e3o expirado - <code>false</code> se n\u00e3o encontrado ou expirado</p> <p>Comportamento: - Verifica automaticamente a expira\u00e7\u00e3o baseada na dura\u00e7\u00e3o definida em <code>SetAll</code> - Remove automaticamente entradas expiradas do cache</p>"},{"location":"api-reference/#setall","title":"SetAll","text":"<p>Armazena todas as entradas de configura\u00e7\u00e3o para um escopo no cache.</p> <pre><code>void SetAll(string scope, IReadOnlyDictionary&lt;string, ConfigEntry&gt; entries, TimeSpan? cacheDuration = null);\n</code></pre> <p>Par\u00e2metros: - <code>scope</code> - Chave do escopo - <code>entries</code> - Entradas a cachear - <code>cacheDuration</code> - Dura\u00e7\u00e3o do cache. Se <code>null</code> ou <code>TimeSpan.Zero</code>, n\u00e3o armazena no cache.</p> <p>Comportamento: - Define o tempo de expira\u00e7\u00e3o baseado em <code>cacheDuration</code> - Se <code>cacheDuration</code> for <code>null</code> ou <code>TimeSpan.Zero</code>, o cache \u00e9 desabilitado para essa entrada</p>"},{"location":"api-reference/#clear","title":"Clear","text":"<p>Limpa cache de um escopo espec\u00edfico.</p> <pre><code>void Clear(string scope);\n</code></pre> <p>Uso: <pre><code>// Invalida cache ap\u00f3s salvar\nawait configR.SaveAsync(config);\n_cache.Clear(scopeKey); // Chamado automaticamente\n</code></pre></p>"},{"location":"api-reference/#clearall","title":"ClearAll","text":"<p>Limpa todo o cache.</p> <pre><code>void ClearAll();\n</code></pre> <p>Uso: <pre><code>// \u00datil em cen\u00e1rios de teste ou reset completo\n_cache.ClearAll();\n</code></pre></p>"},{"location":"api-reference/#serializacao","title":"\ud83d\udd04 Serializa\u00e7\u00e3o","text":"<p>ConfigR usa <code>System.Text.Json</code> para serializar/desserializar valores. O serializador padr\u00e3o est\u00e1 em <code>ConfigR.Core.DefaultConfigSerializer</code>.</p>"},{"location":"api-reference/#iconfigserializer","title":"IConfigSerializer","text":"<pre><code>public interface IConfigSerializer\n{\n    string Serialize(object? value);\n    object? Deserialize(string serializedValue, Type targetType);\n}\n</code></pre> <p>Comportamento Padr\u00e3o: - Usa <code>JsonSerializerOptions.Web</code> como base - Null retorna string vazia na serializa\u00e7\u00e3o - String vazia/null retorna valor padr\u00e3o na desserializa\u00e7\u00e3o - Suporta tipos complexos e cole\u00e7\u00f5es</p> <p>Exemplo de Serializa\u00e7\u00e3o:</p> <pre><code>var config = new CheckoutConfig \n{ \n    MaxItems = 50,\n    Tags = new List&lt;string&gt; { \"tag1\", \"tag2\" }\n};\n\n// Internamente serializado como JSON\n// {\"MaxItems\":50,\"Tags\":[\"tag1\",\"tag2\"]}\n</code></pre>"},{"location":"api-reference/#logging","title":"\ud83d\udd0d Logging","text":"<p>ConfigR usa <code>ILogger&lt;T&gt;</code> para logging:</p> <pre><code>builder.Services.AddLogging(config =&gt;\n{\n    config.AddConsole();\n    config.SetMinimumLevel(LogLevel.Information);\n});\n</code></pre> <p>Categorias de Log: - <code>ConfigR.Core.*</code> - Logs do core - <code>ConfigR.SqlServer.*</code> - Logs do provider SQL Server - (similar para outros providers)</p>"},{"location":"api-reference/#exemplo-completo","title":"\ud83d\udcca Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class AppConfig\n{\n    public string Feature { get; set; } = \"enabled\";\n    public int Timeout { get; set; } = 30;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromMinutes(10);\n        options.DefaultScope = () =&gt; \"Global\";\n    })\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n\n// Service\npublic class AppService\n{\n    private readonly IConfigR _configR;\n\n    public AppService(IConfigR configR)\n    {\n        _configR = configR;\n    }\n\n    public async Task Run()\n    {\n        // Ler (usa cache se dispon\u00edvel)\n        var config = await _configR.GetAsync&lt;AppConfig&gt;();\n        Console.WriteLine($\"Feature: {config.Feature}\");\n\n        // Modificar\n        config.Timeout = 60;\n\n        // Salvar (invalida cache)\n        await _configR.SaveAsync(config);\n    }\n}\n</code></pre>"},{"location":"api-reference/#proximos-passos","title":"\ud83d\udcda Pr\u00f3ximos Passos","text":"<ul> <li>\ud83d\udcd6 Voltar para Documenta\u00e7\u00e3o</li> <li>\ud83d\ude80 In\u00edcio R\u00e1pido</li> <li>\u23f1\ufe0f Entenda o Cache</li> <li>\ud83e\uddea Testes</li> </ul>"},{"location":"configuration/","title":"Configura\u00e7\u00e3o","text":"<p>Entenda como configurar o ConfigR para suas necessidades.</p>"},{"location":"configuration/#configuracao-basica","title":"\ud83d\udd27 Configura\u00e7\u00e3o B\u00e1sica","text":""},{"location":"configuration/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"configuration/#escolher-um-provider","title":"\ud83e\udde9 Escolher um Provider","text":""},{"location":"configuration/#sql-server-padrao","title":"SQL Server (Padr\u00e3o)","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"configuration/#mysql","title":"MySQL","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseMySql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"configuration/#postgresql-npgsql","title":"PostgreSQL (Npgsql)","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseNpgsql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"configuration/#mongodb","title":"MongoDB","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseMongoDb(\n        connectionString: \"mongodb://localhost:27017\",\n        databaseName: \"ConfigR\"\n    );\n</code></pre>"},{"location":"configuration/#redis","title":"Redis","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseRedis(\"localhost:6379\");\n</code></pre>"},{"location":"configuration/#ravendb","title":"RavenDB","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseRavenDb(\n        urls: new[] { \"http://localhost:8080\" },\n        databaseName: \"ConfigR\"\n    );\n</code></pre>"},{"location":"configuration/#definir-classe-de-configuracao","title":"\ud83d\udcdd Definir Classe de Configura\u00e7\u00e3o","text":"<pre><code>// Sua classe de configura\u00e7\u00e3o\npublic sealed class MyConfig\n{\n    // Propriedades com valores padr\u00e3o\n    public string Feature { get; set; } = \"enabled\";\n    public int Timeout { get; set; } = 30;\n    public bool Debug { get; set; } = false;\n}\n</code></pre>"},{"location":"configuration/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ul> <li>\u2705 Use classes <code>sealed</code> para evitar heran\u00e7a</li> <li>\u2705 Sempre forne\u00e7a valores padr\u00e3o (<code>= default;</code>)</li> <li>\u2705 Use tipos simples quando poss\u00edvel (string, int, bool, decimal)</li> <li>\u2705 Nomeie a classe com sufixo <code>Config</code>: <code>CheckoutConfig</code>, <code>PaymentConfig</code></li> <li>\u2705 Propriedades public com get/set</li> </ul>"},{"location":"configuration/#appsettingsjson","title":"\ud83d\uddc4\ufe0f appsettings.json","text":"<p>Configure a connection string:</p> <pre><code>{\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Server=localhost,1433;Database=configr;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\"\n  },\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\"\n    }\n  }\n}\n</code></pre>"},{"location":"configuration/#uso-em-controllersservices","title":"\ud83d\ude80 Uso em Controllers/Services","text":""},{"location":"configuration/#injetar-iconfigr","title":"Injetar IConfigR","text":"<pre><code>[ApiController]\n[Route(\"api/[controller]\")]\npublic class ConfigController : ControllerBase\n{\n    private readonly IConfigR _configR;\n\n    public ConfigController(IConfigR configR)\n    {\n        _configR = configR;\n    }\n\n    [HttpGet]\n    public async Task&lt;MyConfig&gt; GetConfig()\n    {\n        return await _configR.GetAsync&lt;MyConfig&gt;();\n    }\n\n    [HttpPost]\n    public async Task&lt;IActionResult&gt; UpdateConfig([FromBody] MyConfig config)\n    {\n        await _configR.SaveAsync(config);\n        return Ok();\n    }\n}\n</code></pre>"},{"location":"configuration/#usando-scopes","title":"\ud83e\uddf1 Usando Scopes","text":"<p>Para multi-tenant, use scopes:</p> <pre><code>// Ler com escopo\nvar config = await _configR.GetAsync&lt;MyConfig&gt;(\"tenant-123\");\n\n// Salvar com escopo\nawait _configR.SaveAsync(config, \"tenant-123\");\n</code></pre> <p>Veja Scopes para mais detalhes.</p>"},{"location":"configuration/#opcoes-avancadas","title":"\u2699\ufe0f Op\u00e7\u00f5es Avan\u00e7adas","text":""},{"location":"configuration/#configurar-duracao-do-cache","title":"\u23f1\ufe0f Configurar Dura\u00e7\u00e3o do Cache","text":"<p>A dura\u00e7\u00e3o do cache controla por quanto tempo as configura\u00e7\u00f5es s\u00e3o armazenadas em mem\u00f3ria antes de serem recarregadas do banco de dados.</p> <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        // Cache por 10 minutos (padr\u00e3o)\n        options.CacheDuration = TimeSpan.FromMinutes(10);\n    })\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"configuration/#duracoes-recomendadas","title":"Dura\u00e7\u00f5es Recomendadas","text":"Cen\u00e1rio Dura\u00e7\u00e3o Motivo Feature Flags 1-5 minutos Mudam frequentemente, precisam de atualiza\u00e7\u00e3o r\u00e1pida Configura\u00e7\u00f5es de Neg\u00f3cio 10-30 minutos Mudan\u00e7as ocasionais, bom equil\u00edbrio Constantes 1-2 horas Raramente mudam, m\u00e1xima performance Valores Cr\u00edticos 1 minuto Exigem atualiza\u00e7\u00e3o frequente"},{"location":"configuration/#exemplos-praticos","title":"Exemplos Pr\u00e1ticos","text":"<p>Cache Curto (1 minuto) - Alta Disponibilidade: <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromMinutes(1);\n    })\n    .UseSqlServer(connectionString);\n</code></pre></p> <p>Cache Longo (1 hora) - M\u00e1xima Performance: <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromHours(1);\n    })\n    .UseSqlServer(connectionString);\n</code></pre></p> <p>Sem Cache (Sempre Fresco): <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.Zero;  // Desabilita cache\n    })\n    .UseSqlServer(connectionString);\n</code></pre></p> <p>Cache Desabilidado (Null): <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = null;  // Sem cache\n    })\n    .UseSqlServer(connectionString);\n</code></pre></p>"},{"location":"configuration/#como-funciona","title":"Como Funciona","text":"<ol> <li>Primeira leitura: ConfigR busca do banco e caches em mem\u00f3ria</li> <li>Leituras subsequentes: Servidas do cache (instantaneamente)</li> <li>Ap\u00f3s expira\u00e7\u00e3o: Pr\u00f3xima leitura busca do banco novamente</li> <li>Ao salvar: Cache \u00e9 automaticamente invalidado para aquele scope</li> </ol> <pre><code>Tempo 0:00 \u2192 GET (cache miss) \u2192 L\u00ea banco \u2192 Caches por 10 min\nTempo 0:05 \u2192 GET (cache hit)  \u2192 Serve cache\nTempo 0:10 \u2192 GET (cache miss) \u2192 L\u00ea banco novamente\nTempo 0:15 \u2192 SAVE             \u2192 Invalida cache\nTempo 0:16 \u2192 GET (cache miss) \u2192 L\u00ea banco (cache foi invalidado)\n</code></pre> <p>\u26a0\ufe0f Aviso: <code>TimeSpan.Zero</code> desabilita completamente o cache, o que pode sobrecarregar o banco de dados em aplica\u00e7\u00f5es com alto tr\u00e1fego. Use com cuidado!</p>"},{"location":"configuration/#configuracao-de-escopo-padrao","title":"\ud83d\udd00 Configura\u00e7\u00e3o de Escopo Padr\u00e3o","text":"<pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        // Cache\n        options.CacheDuration = TimeSpan.FromMinutes(5);\n\n        // Escopo padr\u00e3o\n        options.DefaultScope = () =&gt; \"Global\";\n    })\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"configuration/#troubleshooting","title":"\ud83d\udd0d Troubleshooting","text":""},{"location":"configuration/#erro-connection-refused","title":"Erro: \"Connection refused\"","text":"<ul> <li>Verifique se o banco de dados est\u00e1 rodando</li> <li>Confirme a connection string em <code>appsettings.json</code></li> <li>Teste a conex\u00e3o manualmente</li> </ul>"},{"location":"configuration/#erro-tabela-nao-existe","title":"Erro: \"Tabela n\u00e3o existe\"","text":"<ul> <li>Crie a tabela manualmente (veja seu provider)</li> <li>Ou configure <code>AutoCreateTable = true</code> (se suportado)</li> </ul>"},{"location":"configuration/#erro-serializacao-falhou","title":"Erro: \"Serializa\u00e7\u00e3o falhou\"","text":"<ul> <li>Verifique se sua classe tem um construtor sem par\u00e2metros</li> <li>Confirme que as propriedades s\u00e3o p\u00fablicas</li> <li>Use tipos simples ou complexos (JSON-serializable)</li> </ul>"},{"location":"configuration/#cache-nao-esta-sendo-usado","title":"Cache n\u00e3o est\u00e1 sendo usado","text":"<ul> <li>Verifique se <code>CacheDuration</code> n\u00e3o est\u00e1 definido como <code>TimeSpan.Zero</code> ou <code>null</code></li> <li>Confirme que est\u00e1 usando <code>GetAsync()</code> (cache \u00e9 por scope)</li> <li>Monitore chamadas ao banco com logs ou ferramentas de profiling</li> </ul>"},{"location":"configuration/#proximos-passos","title":"\ud83d\udcda Pr\u00f3ximos Passos","text":"<ul> <li>\ud83e\uddf1 Aprenda sobre Scopes</li> <li>\u23f1\ufe0f Entenda o Cache em Detalhes</li> <li>\ud83e\udde9 Escolha um Provider</li> </ul>"},{"location":"getting-started/","title":"In\u00edcio R\u00e1pido","text":"<p>Comece a usar o ConfigR em menos de 5 minutos.</p>"},{"location":"getting-started/#pre-requisitos","title":"\ud83d\udce6 Pr\u00e9-requisitos","text":"<ul> <li>.NET 8.0 ou superior</li> <li>Um banco de dados (SQL Server, MySQL, PostgreSQL, MongoDB, Redis ou RavenDB)</li> </ul>"},{"location":"getting-started/#1-instalacao","title":"1\ufe0f\u20e3 Instala\u00e7\u00e3o","text":"<p>Instale o pacote core e o provider desejado:</p> <pre><code># Core\ndotnet add package ConfigR.Core\n\n# Escolha um provider (exemplo: SQL Server)\ndotnet add package ConfigR.SqlServer\n</code></pre> <p>Outros providers dispon\u00edveis:</p> <pre><code>dotnet add package ConfigR.MySql\ndotnet add package ConfigR.Npgsql          # PostgreSQL\ndotnet add package ConfigR.MongoDB\ndotnet add package ConfigR.Redis\ndotnet add package ConfigR.RavenDB\n</code></pre>"},{"location":"getting-started/#2-defina-sua-classe-de-configuracao","title":"2\ufe0f\u20e3 Defina sua Classe de Configura\u00e7\u00e3o","text":"<p>Crie uma classe POCO (Plain Old C# Object) com suas configura\u00e7\u00f5es:</p> <pre><code>public sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n    public decimal MaxAmount { get; set; } = 10000m;\n}\n</code></pre>"},{"location":"getting-started/#3-registre-no-container-di","title":"3\ufe0f\u20e3 Registre no Container DI","text":"<p>Configure o ConfigR no seu <code>Program.cs</code>:</p> <pre><code>// SQL Server (exemplo padr\u00e3o)\nbuilder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"getting-started/#configuracao-do-appsettingsjson","title":"Configura\u00e7\u00e3o do appsettings.json","text":"<pre><code>{\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Server=localhost,1433;Database=configr;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\"\n  }\n}\n</code></pre>"},{"location":"getting-started/#com-duracao-de-cache-customizada","title":"Com Dura\u00e7\u00e3o de Cache Customizada","text":"<pre><code>// SQL Server com cache de 5 minutos\nbuilder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromMinutes(5);\n    })\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre> <p>Cache Padr\u00e3o</p> <p>O ConfigR vem com cache de 10 minutos configurado por padr\u00e3o. Voc\u00ea pode customizar isso conforme sua necessidade.</p>"},{"location":"getting-started/#4-use-em-seu-codigo","title":"4\ufe0f\u20e3 Use em seu C\u00f3digo","text":"<p>Injete o <code>IConfigR</code> e use:</p>"},{"location":"getting-started/#ler-configuracao","title":"Ler Configura\u00e7\u00e3o","text":"<pre><code>public class CheckoutService\n{\n    private readonly IConfigR _configR;\n\n    public CheckoutService(IConfigR configR)\n    {\n        _configR = configR;\n    }\n\n    public async Task&lt;bool&gt; CanCheckout()\n    {\n        var config = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n        return !config.LoginRequired || User.IsAuthenticated;\n    }\n}\n</code></pre>"},{"location":"getting-started/#atualizar-configuracao","title":"Atualizar Configura\u00e7\u00e3o","text":"<pre><code>public async Task UpdateCheckoutConfig()\n{\n    var config = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\n    config.LoginRequired = false;\n    config.MaxItems = 50;\n\n    await _configR.SaveAsync(config);\n}\n</code></pre>"},{"location":"getting-started/#5-crie-a-tabela-sql-server","title":"5\ufe0f\u20e3 Crie a Tabela (SQL Server)","text":"<p>Execute o script SQL para criar a tabela:</p> <pre><code>CREATE TABLE [dbo].[ConfigR] (\n    [Id] INT IDENTITY(1,1) PRIMARY KEY,\n    [Key] NVARCHAR(256) NOT NULL,\n    [Value] NVARCHAR(MAX) NOT NULL,\n    [Scope] NVARCHAR(128) NULL\n);\n\nCREATE UNIQUE INDEX IX_ConfigR_Key_Scope\n    ON [dbo].[ConfigR] ([Key], [Scope]);\n</code></pre> <p>Dica</p> <p>Alguns providers como SQL Server suportam cria\u00e7\u00e3o autom\u00e1tica da tabela se voc\u00ea configurar <code>AutoCreateTable = true</code>.</p>"},{"location":"getting-started/#pronto","title":"\ud83c\udf89 Pronto!","text":"<p>Voc\u00ea est\u00e1 pronto para usar o ConfigR! </p>"},{"location":"getting-started/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ul> <li>\ud83d\udcda Entenda a Configura\u00e7\u00e3o - Explore todas as op\u00e7\u00f5es e cache</li> <li>\ud83e\udde9 Escolha um Provider - Veja detalhes de cada backend</li> <li>\ud83e\uddf1 Aprenda sobre Scopes - Configure isolamento multi-tenant</li> <li>\ud83d\udca1 Explore Conceitos Avan\u00e7ados - Otimize sua aplica\u00e7\u00e3o</li> </ul>"},{"location":"getting-started/#duvidas-comuns","title":"\u2753 D\u00favidas Comuns","text":""},{"location":"getting-started/#p-posso-usar-multiplas-classes-de-configuracao","title":"P: Posso usar m\u00faltiplas classes de configura\u00e7\u00e3o?","text":"<p>R: Sim! Voc\u00ea pode ter quantas classes de configura\u00e7\u00e3o precisar. Cada uma \u00e9 armazenada com sua pr\u00f3pria chave.</p> <pre><code>var checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\nvar shipping = await _configR.GetAsync&lt;ShippingConfig&gt;();\n</code></pre>"},{"location":"getting-started/#p-como-funciona-o-cache","title":"P: Como funciona o cache?","text":"<p>R: ConfigR caches automaticamente as configura\u00e7\u00f5es em mem\u00f3ria. O padr\u00e3o \u00e9 10 minutos, mas voc\u00ea pode customizar:</p> <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromMinutes(5);\n    })\n    .UseSqlServer(connectionString);\n</code></pre> <p>Altera\u00e7\u00f5es s\u00e3o refletidas imediatamente ap\u00f3s <code>SaveAsync()</code> (cache \u00e9 invalidado).</p>"},{"location":"getting-started/#p-posso-desabilitar-o-cache","title":"P: Posso desabilitar o cache?","text":"<p>R: Sim, mas use com cuidado (pode sobrecarregar o banco):</p> <pre><code>builder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.Zero;  // Sem cache\n    })\n    .UseSqlServer(connectionString);\n</code></pre>"},{"location":"getting-started/#p-posso-usar-scopes","title":"P: Posso usar Scopes?","text":"<p>R: Sim! Scopes s\u00e3o perfeitos para multi-tenant. Veja Scopes para detalhes.</p>"},{"location":"getting-started/#p-qual-provider-devo-escolher","title":"P: Qual provider devo escolher?","text":"<p>R:  - SQL Server: Recomendado para a maioria dos casos - PostgreSQL: Se voc\u00ea j\u00e1 usa PostgreSQL - MySQL: Leveza e compatibilidade - MongoDB: Se voc\u00ea prefere bancos NoSQL - Redis: Para cache de alt\u00edssima performance - RavenDB: Para ACID completo e replica\u00e7\u00e3o</p>"},{"location":"testing/","title":"Testes do ConfigR","text":""},{"location":"testing/#testes-unitarios","title":"Testes unit\u00e1rios","text":"<p>Os testes de unidade n\u00e3o dependem de banco de dados e podem ser executados diretamente com:</p> <pre><code>dotnet test\n</code></pre>"},{"location":"testing/#testes-de-integracao-com-sql-server-docker","title":"Testes de integra\u00e7\u00e3o com SQL Server (Docker)","text":"<p>Para executar os testes de integra\u00e7\u00e3o do provider SQL Server, suba um container Docker:</p> <pre><code>docker run -e \"ACCEPT_EULA=Y\" -e \"SA_PASSWORD=Pass@123\" \\\n  -p 1433:1433 --name sql-configr -d mcr.microsoft.com/mssql/server:2022-latest\n</code></pre> <p>A connection string padr\u00e3o usada nos testes \u00e9:</p> <pre><code>Server=localhost,1433;Database=ConfigR_Test;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\n</code></pre> <p>Se quiser sobrescrever, defina a vari\u00e1vel de ambiente:</p> <pre><code>set CONFIGR_TEST_SQL_CONN=Server=localhost,1433;Database=ConfigR_Test;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\ndotnet test\n</code></pre> <p>Em Linux/macOS:</p> <pre><code>export CONFIGR_TEST_SQL_CONN=\"Server=localhost,1433;Database=ConfigR_Test;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\"\ndotnet test\n</code></pre>"},{"location":"testing/#testes-de-integracao-com-mysql-docker","title":"Testes de integra\u00e7\u00e3o com MySQL (Docker)","text":"<p>Para executar os testes de integra\u00e7\u00e3o do provider MySQL, suba um container Docker:</p> <pre><code>docker run -d --name mysql-configr \\\n  -e MYSQL_ROOT_PASSWORD=root \\\n  -e MYSQL_DATABASE=ConfigR_Test \\\n  -p 3306:3306 mysql:8\n</code></pre> <p>A connection string padr\u00e3o usada nos testes \u00e9:</p> <pre><code>Server=localhost;Database=ConfigR_Test;User Id=root;Password=root;\n</code></pre> <p>Se quiser sobrescrever, defina a vari\u00e1vel de ambiente:</p> <pre><code>set CONFIGR_TEST_MYSQL_CONN=Server=localhost;Database=ConfigR_Test;User Id=root;Password=root;\ndotnet test\n</code></pre> <p>Em Linux/macOS:</p> <pre><code>export CONFIGR_TEST_MYSQL_CONN=\"Server=localhost;Database=ConfigR_Test;User Id=root;Password=root;\"\ndotnet test\n</code></pre>"},{"location":"testing/#testes-de-integracao-com-postgresql-npgsql-docker","title":"Testes de integra\u00e7\u00e3o com PostgreSQL (Npgsql) (Docker)","text":"<p>Para executar os testes de integra\u00e7\u00e3o do provider Npgsql, suba um container Docker:</p> <pre><code>docker run -d --name postgres-configr \\\n  -e POSTGRES_PASSWORD=123456 \\\n  -e POSTGRES_USER=postgres \\\n  -e POSTGRES_DB=configr_test \\\n  -p 5432:5432 postgres:16\n</code></pre> <p>A connection string padr\u00e3o usada nos testes \u00e9:</p> <pre><code>Host=localhost;Port=5432;Database=configr_test;Username=postgres;Password=123456;\n</code></pre> <p>Se quiser sobrescrever, defina a vari\u00e1vel de ambiente:</p> <pre><code>set CONFIGR_TEST_POSTGRES_CONN=Host=localhost;Port=5432;Database=configr_test;Username=postgres;Password=123456;\ndotnet test\n</code></pre> <p>Em Linux/macOS:</p> <pre><code>export CONFIGR_TEST_POSTGRES_CONN=\"Host=localhost;Port=5432;Database=configr_test;Username=postgres;Password=123456;\"\ndotnet test\n</code></pre>"},{"location":"testing/#testes-de-integracao-com-mongodb-docker","title":"Testes de integra\u00e7\u00e3o com MongoDB (Docker)","text":"<p>Para executar os testes de integra\u00e7\u00e3o do provider MongoDB, suba um container Docker:</p> <pre><code>docker run -d --name mongo-configr \\\n  -p 27017:27017 mongo:7\n</code></pre> <p>A connection string padr\u00e3o usada nos testes \u00e9:</p> <pre><code>mongodb://localhost:27017\n</code></pre> <p>Se quiser sobrescrever, defina a vari\u00e1vel de ambiente:</p> <pre><code>set CONFIGR_TEST_MONGO_CONN=mongodb://localhost:27017\ndotnet test\n</code></pre> <p>Em Linux/macOS:</p> <pre><code>export CONFIGR_TEST_MONGO_CONN=\"mongodb://localhost:27017\"\ndotnet test\n</code></pre>"},{"location":"testing/#testes-de-integracao-com-redis-docker","title":"Testes de integra\u00e7\u00e3o com Redis (Docker)","text":"<p>Para executar os testes de integra\u00e7\u00e3o do provider Redis, suba um container Docker:</p> <pre><code>docker run -d --name redis-configr \\\n  -p 6379:6379 redis:7\n</code></pre> <p>A connection string padr\u00e3o usada nos testes \u00e9:</p> <pre><code>localhost:6379\n</code></pre> <p>Se quiser sobrescrever, defina a vari\u00e1vel de ambiente:</p> <pre><code>set CONFIGR_TEST_REDIS_CONN=localhost:6379\ndotnet test\n</code></pre> <p>Em Linux/macOS:</p> <pre><code>export CONFIGR_TEST_REDIS_CONN=\"localhost:6379\"\ndotnet test\n</code></pre>"},{"location":"testing/#testes-de-integracao-com-ravendb-docker","title":"Testes de integra\u00e7\u00e3o com RavenDB (Docker)","text":"<p>Para executar os testes de integra\u00e7\u00e3o do provider RavenDB, suba um container Docker:</p> <pre><code>docker run -d --name ravendb-configr \\\n  -p 8080:8080 \\\n  -e RAVEN_Setup_Mode=None \\\n  -e RAVEN_License_Eula_Accepted=true \\\n  -e RAVEN_Security_UnsecuredAccessAllowed=PublicNetwork \\\n  ravendb/ravendb:6.0-ubuntu-latest\n</code></pre> <p>A URL padr\u00e3o usada nos testes \u00e9:</p> <pre><code>http://localhost:8080\n</code></pre> <p>Se quiser sobrescrever, defina as vari\u00e1veis de ambiente:</p> <pre><code>set CONFIGR_TEST_RAVEN_URLS=http://localhost:8080\nset CONFIGR_TEST_RAVEN_DB=ConfigR_Test\ndotnet test\n</code></pre> <p>Em Linux/macOS:</p> <pre><code>export CONFIGR_TEST_RAVEN_URLS=\"http://localhost:8080\"\nexport CONFIGR_TEST_RAVEN_DB=\"ConfigR_Test\"\ndotnet test\n</code></pre>"},{"location":"testing/#rodar-todos-os-testes-com-docker-compose","title":"Rodar todos os testes com Docker Compose","text":"<p>Para rodar todos os testes simultaneamente com todos os provedores, use docker-compose:</p> <pre><code>docker-compose up -d\ndotnet test\ndocker-compose down\n</code></pre>"},{"location":"testing/#estrutura-dos-testes","title":"Estrutura dos Testes","text":"<p>Cada provider tem seus pr\u00f3prios testes organizados em tr\u00eas categorias:</p>"},{"location":"testing/#1-configstoretests","title":"1. ConfigStoreTests","text":"<ul> <li>CRUD b\u00e1sico (Create, Read, Update, Delete)</li> <li>Opera\u00e7\u00f5es com scopes</li> <li>Tratamento de valores nulos</li> </ul>"},{"location":"testing/#2-integrationtests","title":"2. IntegrationTests","text":"<ul> <li>Fluxo completo com tipos complexos (aninhados, cole\u00e7\u00f5es)</li> <li>Serializa\u00e7\u00e3o e desserializa\u00e7\u00e3o</li> <li>Sobrescrita de valores existentes</li> </ul>"},{"location":"testing/#3-concurrencytests","title":"3. ConcurrencyTests","text":"<ul> <li>Leituras paralelas (100+ tarefas simult\u00e2neas)</li> <li>Leitura/escrita concorrente (race conditions)</li> <li>Integridade de estado sob press\u00e3o</li> </ul>"},{"location":"testing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"testing/#erro-de-conexao-no-teste","title":"Erro de conex\u00e3o no teste","text":"<p>Certifique-se de que: 1. O container est\u00e1 rodando: <code>docker ps</code> 2. A porta est\u00e1 correta: <code>docker port &lt;container-name&gt;</code> 3. O firewall permite a conex\u00e3o 4. A connection string est\u00e1 correta</p>"},{"location":"testing/#teste-falha-intermitentemente","title":"Teste falha intermitentemente","text":"<p>Verifique: 1. Recursos dispon\u00edveis (mem\u00f3ria, CPU) 2. Lat\u00eancia de rede 3. Timeout do container (<code>--health-timeout</code>) 4. Logs do container: <code>docker logs &lt;container-name&gt;</code></p>"},{"location":"advanced/caching/","title":"Cache - Performance","text":"<p>Entenda como o cache em mem\u00f3ria do ConfigR funciona e como otimiz\u00e1-lo.</p>"},{"location":"advanced/caching/#como-funciona-o-cache","title":"\ud83c\udfaf Como Funciona o Cache","text":"<p>O ConfigR implementa cache em mem\u00f3ria autom\u00e1tico para melhorar performance:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Sua Aplica\u00e7\u00e3o      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n      Solicita config\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Cache em Mem\u00f3ria   \u2502 \u25c4\u2500\u2500\u2500 R\u00e1pido! (&lt; 1ms)\n\u2502  (IMemoryCache)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 Se n\u00e3o encontrado\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Backend Storage    \u2502 \u25c4\u2500\u2500\u2500 Mais lento (~50ms)\n\u2502  (SQL, MySQL, etc)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"advanced/caching/#duracao-do-cache","title":"\u23f1\ufe0f Dura\u00e7\u00e3o do Cache","text":"<p>Cada configura\u00e7\u00e3o \u00e9 cacheada por um tempo configur\u00e1vel. Ap\u00f3s expirar, a pr\u00f3xima leitura busca do banco:</p> <pre><code>// Configurar dura\u00e7\u00e3o do cache durante o registro\nbuilder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromMinutes(5); // Padr\u00e3o\n    })\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"advanced/caching/#duracoes-recomendadas","title":"Dura\u00e7\u00f5es Recomendadas","text":"Tipo de Configura\u00e7\u00e3o Dura\u00e7\u00e3o Motivo Feature flags 1-5 minutos Mudam frequentemente Configura\u00e7\u00f5es comerciais 10-30 minutos Mudan\u00e7as ocasionais Constantes 1-2 horas Raramente mudam Valores cr\u00edticos 1 minuto Precisam de atualiza\u00e7\u00e3o r\u00e1pida"},{"location":"advanced/caching/#invalidacao-de-cache","title":"\ud83d\udd04 Invalida\u00e7\u00e3o de Cache","text":"<p>Quando voc\u00ea salva uma configura\u00e7\u00e3o, o cache \u00e9 automaticamente invalidado:</p> <pre><code>// L\u00ea do cache\nvar config = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\n// Atualiza e salva\nconfig.MaxItems = 50;\nawait _configR.SaveAsync(config);  // \u2705 Cache invalidado aqui!\n\n// Pr\u00f3xima leitura vem do banco\nvar newConfig = await _configR.GetAsync&lt;CheckoutConfig&gt;();  // Sempre fresco\n</code></pre>"},{"location":"advanced/caching/#estrategias-de-cache","title":"\ud83d\udcca Estrat\u00e9gias de Cache","text":""},{"location":"advanced/caching/#1-cache-curto-alta-disponibilidade","title":"1\ufe0f\u20e3 Cache Curto (Alta Disponibilidade)","text":"<pre><code>// Atualiza a cada 1 minuto\nbuilder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromMinutes(1);\n    })\n    .UseSqlServer(connectionString);\n</code></pre> <p>Quando usar: - Valores que mudam frequentemente - Feature flags ativas - Configura\u00e7\u00f5es cr\u00edticas</p>"},{"location":"advanced/caching/#2-cache-longo-maxima-performance","title":"2\ufe0f\u20e3 Cache Longo (M\u00e1xima Performance)","text":"<pre><code>// Cacheado por 1 hora\nbuilder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.FromHours(1);\n    })\n    .UseSqlServer(connectionString);\n</code></pre> <p>Quando usar: - Configura\u00e7\u00f5es que raramente mudam - Constantes da aplica\u00e7\u00e3o - Valores de inicializa\u00e7\u00e3o</p>"},{"location":"advanced/caching/#3-sem-cache-sempre-fresco","title":"3\ufe0f\u20e3 Sem Cache (Sempre Fresco)","text":"<pre><code>// Nunca cacheia\nbuilder.Services\n    .AddConfigR(options =&gt;\n    {\n        options.CacheDuration = TimeSpan.Zero;\n    })\n    .UseSqlServer(connectionString);\n</code></pre> <p>\u26a0\ufe0f Use com cuidado: Pode sobrecarregar o banco de dados!</p>"},{"location":"advanced/caching/#monitore-o-cache","title":"\ud83d\udcc8 Monitore o Cache","text":""},{"location":"advanced/caching/#logs","title":"Logs","text":"<pre><code>// Configure logging para debug\nbuilder.Services.AddLogging(config =&gt;\n{\n    config.AddConsole();\n    config.SetMinimumLevel(LogLevel.Debug);\n});\n</code></pre>"},{"location":"advanced/caching/#metricas","title":"M\u00e9tricas","text":"<p>Implemente coleta de m\u00e9tricas:</p> <pre><code>public class CacheMetrics\n{\n    public int Hits { get; set; }\n    public int Misses { get; set; }\n    public decimal HitRatio =&gt; (decimal)Hits / (Hits + Misses);\n}\n</code></pre>"},{"location":"advanced/caching/#boas-praticas","title":"\u2705 Boas Pr\u00e1ticas","text":""},{"location":"advanced/caching/#faca","title":"\u2705 Fa\u00e7a","text":"<ul> <li>Escolha dura\u00e7\u00e3o apropriada para seu caso de uso</li> <li>Monitore hit/miss ratio do cache</li> <li>Invalide cache quando necess\u00e1rio</li> <li>Documente estrat\u00e9gia de cache</li> </ul>"},{"location":"advanced/caching/#evite","title":"\u274c Evite","text":"<ul> <li>Cache muito longo para dados cr\u00edticos</li> <li>Cache zero em produ\u00e7\u00e3o (performance)</li> <li>Misturar estrat\u00e9gias sem motivo</li> <li>Confiar exclusivamente no cache</li> </ul>"},{"location":"advanced/caching/#otimizacoes","title":"\ud83d\ude80 Otimiza\u00e7\u00f5es","text":""},{"location":"advanced/caching/#usar-diferentes-duracoes-por-tipo","title":"Usar Diferentes Dura\u00e7\u00f5es por Tipo","text":"<pre><code>public class ConfigService\n{\n    private readonly IConfigR _configR;\n\n    public async Task&lt;CheckoutConfig&gt; GetCheckoutConfig()\n    {\n        // Esta chamada \u00e9 cacheada\n        return await _configR.GetAsync&lt;CheckoutConfig&gt;();\n    }\n\n    public async Task&lt;PaymentConfig&gt; GetPaymentConfig()\n    {\n        // Esta tamb\u00e9m, com sua pr\u00f3pria cache\n        return await _configR.GetAsync&lt;PaymentConfig&gt;();\n    }\n}\n</code></pre>"},{"location":"advanced/caching/#precarga-de-cache","title":"Precarga de Cache","text":"<pre><code>// No startup, precarre configura\u00e7\u00f5es cr\u00edticas\nvar app = builder.Build();\n\nvar configR = app.Services.GetRequiredService&lt;IConfigR&gt;();\nawait configR.GetAsync&lt;CheckoutConfig&gt;();      // Precarga\nawait configR.GetAsync&lt;PaymentConfig&gt;();       // Precarga\nawait configR.GetAsync&lt;ShippingConfig&gt;();      // Precarga\n</code></pre>"},{"location":"advanced/caching/#proximos-passos","title":"\ud83d\udcda Pr\u00f3ximos Passos","text":"<ul> <li>\ud83e\uddf1 Aprenda sobre Scopes</li> <li>\ud83e\udde9 Crie Providers Personalizados</li> <li>\ud83d\udd27 Voltar para Configura\u00e7\u00e3o</li> </ul>"},{"location":"advanced/extensibility/","title":"Extensibilidade - Custom Providers","text":"<p>Crie seus pr\u00f3prios providers de armazenamento para o ConfigR.</p>"},{"location":"advanced/extensibility/#quando-criar-um-custom-provider","title":"\ud83c\udfaf Quando Criar um Custom Provider","text":"<ul> <li>Voc\u00ea usa um banco de dados n\u00e3o suportado nativamente</li> <li>Precisa de l\u00f3gica customizada (criptografia, compress\u00e3o)</li> <li>Quer integrar com sistema legado</li> <li>Tem requisitos de performance espec\u00edficos</li> </ul>"},{"location":"advanced/extensibility/#implementar-um-custom-provider","title":"\ud83d\udee0\ufe0f Implementar um Custom Provider","text":""},{"location":"advanced/extensibility/#1-entender-a-interface","title":"1\ufe0f\u20e3 Entender a Interface","text":"<pre><code>// ConfigR.Abstractions\npublic interface IConfigStore\n{\n    /// &lt;summary&gt;\n    /// Gets a configuration entry by key and optional scope.\n    /// &lt;/summary&gt;\n    Task&lt;ConfigEntry?&gt; GetAsync(string key, string? scope = null);\n\n    /// &lt;summary&gt;\n    /// Gets all configuration entries for a given scope.\n    /// &lt;/summary&gt;\n    Task&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt; GetAllAsync(string? scope = null);\n\n    /// &lt;summary&gt;\n    /// Inserts or updates configuration entries.\n    /// &lt;/summary&gt;\n    Task UpsertAsync(IEnumerable&lt;ConfigEntry&gt; entries, string? scope = null);\n}\n\npublic sealed class ConfigEntry\n{\n    public string? Key { get; init; }\n    public string? Value { get; init; }\n    public string? Scope { get; init; }\n}\n</code></pre>"},{"location":"advanced/extensibility/#2-criar-classe-do-provider","title":"2\ufe0f\u20e3 Criar Classe do Provider","text":"<pre><code>public class CustomConfigStore : IConfigStore\n{\n    private readonly CustomConfigStoreOptions _options;\n    private readonly ILogger&lt;CustomConfigStore&gt; _logger;\n\n    public CustomConfigStore(\n        IOptions&lt;CustomConfigStoreOptions&gt; options,\n        ILogger&lt;CustomConfigStore&gt; logger)\n    {\n        _options = options.Value;\n        _logger = logger;\n    }\n\n    public async Task&lt;ConfigEntry?&gt; GetAsync(string key, string? scope = null)\n    {\n        try\n        {\n            _logger.LogInformation($\"Getting config: {key}, scope: {scope}\");\n\n            // Sua l\u00f3gica de leitura aqui\n            var entry = await FetchFromCustomStore(key, scope);\n\n            return entry;\n        }\n        catch (Exception ex)\n        {\n            _logger.LogError(ex, $\"Error getting config: {key}\");\n            throw;\n        }\n    }\n\n    public async Task&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt; GetAllAsync(string? scope = null)\n    {\n        try\n        {\n            _logger.LogInformation($\"Getting all configs for scope: {scope}\");\n\n            // Sua l\u00f3gica para buscar todas as entradas\n            var entries = await FetchAllFromCustomStore(scope);\n\n            return entries;\n        }\n        catch (Exception ex)\n        {\n            _logger.LogError(ex, \"Error getting all configs\");\n            throw;\n        }\n    }\n\n    public async Task UpsertAsync(IEnumerable&lt;ConfigEntry&gt; entries, string? scope = null)\n    {\n        try\n        {\n            _logger.LogInformation($\"Upserting configs for scope: {scope}\");\n\n            // Sua l\u00f3gica de escrita aqui\n            await WriteToCustomStore(entries, scope);\n        }\n        catch (Exception ex)\n        {\n            _logger.LogError(ex, \"Error upserting configs\");\n            throw;\n        }\n    }\n\n    // Seus m\u00e9todos privados aqui\n    private async Task&lt;ConfigEntry?&gt; FetchFromCustomStore(string key, string? scope)\n    {\n        // TODO: Implementar\n        return null;\n    }\n\n    private async Task&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt; FetchAllFromCustomStore(string? scope)\n    {\n        // TODO: Implementar\n        return new Dictionary&lt;string, ConfigEntry&gt;();\n    }\n\n    private async Task WriteToCustomStore(IEnumerable&lt;ConfigEntry&gt; entries, string? scope)\n    {\n        // TODO: Implementar\n    }\n}\n</code></pre>"},{"location":"advanced/extensibility/#3-criar-classe-de-opcoes","title":"3\ufe0f\u20e3 Criar Classe de Op\u00e7\u00f5es","text":"<pre><code>public class CustomConfigStoreOptions\n{\n    public string ConnectionString { get; set; }\n    public string CustomSetting { get; set; }\n    public int Timeout { get; set; } = 30;\n}\n</code></pre>"},{"location":"advanced/extensibility/#4-criar-metodo-de-extensao","title":"4\ufe0f\u20e3 Criar M\u00e9todo de Extens\u00e3o","text":"<pre><code>public static class ConfigRBuilderExtensions\n{\n    public static IConfigRBuilder UseCustomStore(\n        this IConfigRBuilder builder,\n        string connectionString,\n        Action&lt;CustomConfigStoreOptions&gt;? configureOptions = null)\n    {\n        var options = new CustomConfigStoreOptions\n        {\n            ConnectionString = connectionString\n        };\n\n        configureOptions?.Invoke(options);\n\n        builder.Services.Configure&lt;CustomConfigStoreOptions&gt;(opt =&gt;\n        {\n            opt.ConnectionString = options.ConnectionString;\n            opt.CustomSetting = options.CustomSetting;\n            opt.Timeout = options.Timeout;\n        });\n\n        builder.Services.AddScoped&lt;IConfigStore, CustomConfigStore&gt;();\n\n        return builder;\n    }\n}\n</code></pre>"},{"location":"advanced/extensibility/#5-registrar-no-di","title":"5\ufe0f\u20e3 Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseCustomStore(\n        connectionString: \"custom://localhost\",\n        configureOptions: options =&gt;\n        {\n            options.CustomSetting = \"valor\";\n            options.Timeout = 60;\n        });\n</code></pre>"},{"location":"advanced/extensibility/#exemplo-completo-provider-em-memoria","title":"\ud83d\udcdd Exemplo Completo: Provider em Mem\u00f3ria","text":"<pre><code>using System.Collections.Concurrent;\nusing ConfigR.Abstractions;\n\n// Simples provider que armazena tudo na mem\u00f3ria\npublic class InMemoryConfigStore : IConfigStore\n{\n    private readonly ConcurrentDictionary&lt;string, ConfigEntry&gt; _store \n        = new(StringComparer.OrdinalIgnoreCase);\n\n    public Task&lt;ConfigEntry?&gt; GetAsync(string key, string? scope = null)\n    {\n        var fullKey = BuildKey(key, scope);\n        _store.TryGetValue(fullKey, out var entry);\n        return Task.FromResult&lt;ConfigEntry?&gt;(entry);\n    }\n\n    public Task&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt; GetAllAsync(string? scope = null)\n    {\n        if (scope is null)\n        {\n            // Retorna todas as entradas\n            return Task.FromResult&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt;(\n                new Dictionary&lt;string, ConfigEntry&gt;(_store));\n        }\n\n        // Filtra entradas pelo scope\n        var prefix = $\"{scope}:\";\n        var filtered = _store\n            .Where(kvp =&gt; kvp.Key.StartsWith(prefix, StringComparison.OrdinalIgnoreCase))\n            .ToDictionary(\n                kvp =&gt; kvp.Key.Substring(prefix.Length),\n                kvp =&gt; kvp.Value,\n                StringComparer.OrdinalIgnoreCase\n            );\n\n        return Task.FromResult&lt;IReadOnlyDictionary&lt;string, ConfigEntry&gt;&gt;(filtered);\n    }\n\n    public Task UpsertAsync(IEnumerable&lt;ConfigEntry&gt; entries, string? scope = null)\n    {\n        foreach (var entry in entries)\n        {\n            var fullKey = BuildKey(entry.Key ?? \"\", scope);\n            _store[fullKey] = entry;\n        }\n\n        return Task.CompletedTask;\n    }\n\n    private static string BuildKey(string key, string? scope)\n    {\n        return scope != null ? $\"{scope}:{key}\" : key;\n    }\n}\n\n// Extens\u00e3o\npublic static class ConfigRBuilderExtensions\n{\n    public static IConfigRBuilder UseInMemory(this IConfigRBuilder builder)\n    {\n        builder.Services.AddScoped&lt;IConfigStore, InMemoryConfigStore&gt;();\n        return builder;\n    }\n}\n</code></pre>"},{"location":"advanced/extensibility/#testar-seu-provider","title":"\ud83e\uddea Testar seu Provider","text":"<pre><code>[TestFixture]\npublic class CustomConfigStoreTests\n{\n    private IConfigStore _store;\n\n    [SetUp]\n    public void Setup()\n    {\n        _store = new CustomConfigStore(\n            Options.Create(new CustomConfigStoreOptions { /* ... */ }),\n            new Mock&lt;ILogger&lt;CustomConfigStore&gt;&gt;().Object\n        );\n    }\n\n    [Test]\n    public async Task GetAsync_ShouldReturnValue()\n    {\n        // Arrange\n        var entry = new ConfigEntry \n        { \n            Key = \"key1\", \n            Value = \"value1\" \n        };\n        await _store.UpsertAsync(new[] { entry });\n\n        // Act\n        var result = await _store.GetAsync(\"key1\");\n\n        // Assert\n        Assert.IsNotNull(result);\n        Assert.AreEqual(\"value1\", result.Value);\n    }\n\n    [Test]\n    public async Task GetAllAsync_WithScope_ShouldReturnFilteredEntries()\n    {\n        // Arrange\n        var entries = new[]\n        {\n            new ConfigEntry { Key = \"key1\", Value = \"value1\" },\n            new ConfigEntry { Key = \"key2\", Value = \"value2\" }\n        };\n        await _store.UpsertAsync(entries, scope: \"scope1\");\n\n        // Act\n        var result = await _store.GetAllAsync(\"scope1\");\n\n        // Assert\n        Assert.AreEqual(2, result.Count);\n        Assert.IsTrue(result.ContainsKey(\"key1\"));\n        Assert.AreEqual(\"value1\", result[\"key1\"].Value);\n    }\n\n    [Test]\n    public async Task UpsertAsync_ShouldUpdateExistingEntry()\n    {\n        // Arrange\n        var entry1 = new ConfigEntry { Key = \"key1\", Value = \"value1\" };\n        await _store.UpsertAsync(new[] { entry1 });\n\n        // Act\n        var entry2 = new ConfigEntry { Key = \"key1\", Value = \"updated\" };\n        await _store.UpsertAsync(new[] { entry2 });\n\n        var result = await _store.GetAsync(\"key1\");\n\n        // Assert\n        Assert.IsNotNull(result);\n        Assert.AreEqual(\"updated\", result.Value);\n    }\n}\n</code></pre>"},{"location":"advanced/extensibility/#proximos-passos","title":"\ud83d\udcda Pr\u00f3ximos Passos","text":"<ul> <li>\ud83e\uddf1 Aprenda sobre Scopes</li> <li>\ud83d\ude80 Otimize com Cache</li> <li>\ud83d\udd27 Voltar para Configura\u00e7\u00e3o</li> </ul>"},{"location":"advanced/scopes/","title":"Scopes - Multi-tenant","text":"<p>Entenda como usar scopes para isolar configura\u00e7\u00f5es em aplica\u00e7\u00f5es multi-tenant.</p>"},{"location":"advanced/scopes/#o-que-e-um-scope","title":"\ud83c\udfaf O que \u00e9 um Scope?","text":"<p>Um scope \u00e9 um identificador que permite isolar configura\u00e7\u00f5es por contexto. Perfeito para:</p> <ul> <li>Multi-tenant: Cada cliente tem suas pr\u00f3prias configura\u00e7\u00f5es</li> <li>Multi-loja: Cada loja tem suas pr\u00f3prias regras</li> <li>Ambientes: Produ\u00e7\u00e3o, staging, desenvolvimento com configura\u00e7\u00f5es diferentes</li> <li>Regi\u00f5es: Diferentes configura\u00e7\u00f5es por localiza\u00e7\u00e3o</li> </ul>"},{"location":"advanced/scopes/#uso-basico","title":"\ud83d\udcdd Uso B\u00e1sico","text":""},{"location":"advanced/scopes/#salvar-com-scope","title":"Salvar com Scope","text":"<pre><code>var config = new CheckoutConfig\n{\n    LoginRequired = true,\n    MaxItems = 20\n};\n\n// Salvar configura\u00e7\u00e3o para o tenant \"acme-corp\"\nawait _configR.SaveAsync(config, scope: \"acme-corp\");\n\n// Salvar configura\u00e7\u00e3o padr\u00e3o (sem scope)\nawait _configR.SaveAsync(config);\n</code></pre>"},{"location":"advanced/scopes/#ler-com-scope","title":"Ler com Scope","text":"<pre><code>// Ler configura\u00e7\u00e3o do tenant \"acme-corp\"\nvar acmeConfig = await _configR.GetAsync&lt;CheckoutConfig&gt;(\"acme-corp\");\n\n// Ler configura\u00e7\u00e3o padr\u00e3o\nvar defaultConfig = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n</code></pre>"},{"location":"advanced/scopes/#padrao-fallback-para-padrao","title":"\ud83d\udd04 Padr\u00e3o: Fallback para Padr\u00e3o","text":"<p>Implemente um padr\u00e3o de fallback para configura\u00e7\u00f5es n\u00e3o encontradas:</p> <pre><code>public async Task&lt;CheckoutConfig&gt; GetCheckoutConfig(string tenantId)\n{\n    try\n    {\n        // Tentar ler config espec\u00edfica do tenant\n        return await _configR.GetAsync&lt;CheckoutConfig&gt;(tenantId);\n    }\n    catch (ConfigNotFoundException)\n    {\n        // Fallback para configura\u00e7\u00e3o padr\u00e3o\n        return await _configR.GetAsync&lt;CheckoutConfig&gt;();\n    }\n}\n</code></pre>"},{"location":"advanced/scopes/#exemplo-multi-tenant-em-middleware","title":"\ud83c\udf10 Exemplo: Multi-tenant em Middleware","text":"<pre><code>// Middleware para extrair tenant do header\napp.Use(async (context, next) =&gt;\n{\n    var tenantId = context.Request.Headers[\"X-Tenant-Id\"];\n    context.Items[\"TenantId\"] = tenantId;\n    await next();\n});\n\n// Usar em service\npublic class CheckoutService\n{\n    private readonly IConfigR _configR;\n    private readonly IHttpContextAccessor _httpContextAccessor;\n\n    public CheckoutService(IConfigR configR, IHttpContextAccessor httpContextAccessor)\n    {\n        _configR = configR;\n        _httpContextAccessor = httpContextAccessor;\n    }\n\n    public async Task&lt;CheckoutConfig&gt; GetConfig()\n    {\n        var tenantId = _httpContextAccessor.HttpContext?.Items[\"TenantId\"]?.ToString();\n\n        if (!string.IsNullOrEmpty(tenantId))\n        {\n            return await _configR.GetAsync&lt;CheckoutConfig&gt;(tenantId);\n        }\n\n        return await _configR.GetAsync&lt;CheckoutConfig&gt;();\n    }\n}\n</code></pre>"},{"location":"advanced/scopes/#estrutura-no-banco-de-dados","title":"\ud83d\uddc4\ufe0f Estrutura no Banco de Dados","text":"<p>Os scopes s\u00e3o armazenados junto com a chave no banco:</p>"},{"location":"advanced/scopes/#sql-server","title":"SQL Server","text":"<pre><code>-- Configura\u00e7\u00e3o padr\u00e3o (sem scope)\nSELECT * FROM ConfigR WHERE Key = 'CheckoutConfig' AND Scope IS NULL;\n\n-- Configura\u00e7\u00e3o de um tenant espec\u00edfico\nSELECT * FROM ConfigR WHERE Key = 'CheckoutConfig' AND Scope = 'acme-corp';\n\n-- Todas as configura\u00e7\u00f5es de um tenant\nSELECT * FROM ConfigR WHERE Scope = 'acme-corp';\n</code></pre>"},{"location":"advanced/scopes/#listar-scopes-disponiveis","title":"\ud83d\udccb Listar Scopes Dispon\u00edveis","text":"<p>Para recuperar todos os scopes cadastrados:</p> <pre><code>// Implementar em seu provider ou consultar diretamente:\nvar sql = \"SELECT DISTINCT Scope FROM ConfigR WHERE Scope IS NOT NULL\";\n</code></pre>"},{"location":"advanced/scopes/#boas-praticas","title":"\u2705 Boas Pr\u00e1ticas","text":""},{"location":"advanced/scopes/#faca","title":"\u2705 Fa\u00e7a","text":"<ul> <li>Use nomes significativos: <code>\"acme-corp\"</code>, <code>\"loja-sp\"</code>, <code>\"producao\"</code></li> <li>Sempre implemente fallback para padr\u00e3o</li> <li>Documente quais scopes sua app usa</li> <li>Use UUID ou identificadores \u00fanicos para tenants</li> </ul>"},{"location":"advanced/scopes/#evite","title":"\u274c Evite","text":"<ul> <li>Nomes amb\u00edguos: <code>\"tenant1\"</code>, <code>\"config2\"</code></li> <li>Esquecer de gerenciar o ciclo de vida dos scopes</li> <li>Misturar separa\u00e7\u00e3o de dados com scopes (use multitenancy adequadamente)</li> <li>Armazenar dados sens\u00edveis em scopes p\u00fablicos</li> </ul>"},{"location":"advanced/scopes/#seguranca","title":"\ud83d\udd12 Seguran\u00e7a","text":"<pre><code>// \u2705 Sempre validar se o tenant tem acesso\npublic async Task&lt;CheckoutConfig&gt; GetTenantConfig(string tenantId)\n{\n    // Validar se o usu\u00e1rio atual tem permiss\u00e3o para este tenant\n    if (!await AuthorizeForTenant(tenantId))\n    {\n        throw new UnauthorizedAccessException();\n    }\n\n    return await _configR.GetAsync&lt;CheckoutConfig&gt;(tenantId);\n}\n</code></pre>"},{"location":"advanced/scopes/#proximos-passos","title":"\ud83d\udcda Pr\u00f3ximos Passos","text":"<ul> <li>\ud83d\ude80 Otimize com Cache</li> <li>\ud83e\udde9 Crie Providers Personalizados</li> <li>\ud83d\udd27 Voltar para Configura\u00e7\u00e3o</li> </ul>"},{"location":"security/","title":"Documenta\u00e7\u00e3o de Seguran\u00e7a - ConfigR","text":"<p>Esta pasta cont\u00e9m toda a documenta\u00e7\u00e3o relacionada \u00e0 seguran\u00e7a do projeto ConfigR.</p>"},{"location":"security/#documentos-disponiveis","title":"Documentos Dispon\u00edveis","text":""},{"location":"security/#1-securitymd","title":"1. SECURITY.md","text":"<p>Pol\u00edtica Oficial de Seguran\u00e7a - Como reportar vulnerabilidades - Vers\u00f5es suportadas - Processo de disclosure - Melhores pr\u00e1ticas de uso - Configura\u00e7\u00f5es seguras por provider - Checklist de seguran\u00e7a</p> <p>Para: Todos os usu\u00e1rios e contribuidores</p>"},{"location":"security/#2-security_audit_reportmd","title":"2. SECURITY_AUDIT_REPORT.md","text":"<p>Relat\u00f3rio T\u00e9cnico de Auditoria - Vulnerabilidades identificadas (6 categorias) - An\u00e1lise de severidade (Cr\u00edtica a Baixa) - C\u00f3digo vulner\u00e1vel vs corrigido - Plano de a\u00e7\u00e3o priorizado - M\u00e9tricas e estat\u00edsticas - Refer\u00eancias t\u00e9cnicas</p> <p>Para: Equipe de desenvolvimento e seguran\u00e7a</p>"},{"location":"security/#3-security_fixes_summarymd","title":"3. SECURITY_FIXES_SUMMARY.md","text":"<p>Resumo das Corre\u00e7\u00f5es Implementadas - Lista de todas as corre\u00e7\u00f5es - C\u00f3digo antes vs depois - Testes implementados - Status de cada provider - M\u00e9tricas de melhoria</p> <p>Para: Desenvolvedores e auditores</p>"},{"location":"security/#4-security_implementation_guidemd","title":"4. SECURITY_IMPLEMENTATION_GUIDE.md","text":"<p>Guia Pr\u00e1tico de Implementa\u00e7\u00e3o - Como testar as corre\u00e7\u00f5es - Arquivos modificados - Pr\u00f3ximos passos - Como verificar valida\u00e7\u00f5es - Troubleshooting</p> <p>Para: Desenvolvedores implementando ou revisando c\u00f3digo</p>"},{"location":"security/#5-security_changelogmd","title":"5. SECURITY_CHANGELOG.md","text":"<p>Changelog T\u00e9cnico de Seguran\u00e7a - Hist\u00f3rico de corre\u00e7\u00f5es - Altera\u00e7\u00f5es por componente - Breaking changes (nenhum) - Disclosure timeline - Refer\u00eancias CVE/CWE</p> <p>Para: Release managers e comunica\u00e7\u00e3o</p>"},{"location":"security/#6-security_executive_summarymd","title":"6. SECURITY_EXECUTIVE_SUMMARY.md","text":"<p>Resumo Executivo - Sum\u00e1rio para stakeholders - M\u00e9tricas de impacto - Impacto no neg\u00f3cio - Recomenda\u00e7\u00f5es estrat\u00e9gicas</p> <p>Para: Lideran\u00e7a e tomada de decis\u00e3o</p>"},{"location":"security/#7-best-practicesmd","title":"7. best-practices.md","text":"<p>Guia Completo de Boas Pr\u00e1ticas - O que NUNCA fazer (com exemplos) - O que SEMPRE fazer (com implementa\u00e7\u00f5es) - Configura\u00e7\u00f5es por ambiente (dev/staging/prod) - Exemplos de c\u00f3digo seguro - Audit logging e rate limiting - Resposta a incidentes</p> <p>Para: Desenvolvedores usando ConfigR</p>"},{"location":"security/#guia-rapido-por-publico","title":"Guia R\u00e1pido por P\u00fablico","text":""},{"location":"security/#voce-e-um-desenvolvedor-usando-configr","title":"Voc\u00ea \u00e9 um Desenvolvedor usando ConfigR?","text":"<p>Leia: 1. SECURITY.md - Pol\u00edtica e melhores pr\u00e1ticas 2. best-practices.md - Exemplos pr\u00e1ticos</p>"},{"location":"security/#voce-e-um-contribuidor-do-configr","title":"Voc\u00ea \u00e9 um Contribuidor do ConfigR?","text":"<p>Leia: 1. SECURITY.md - Como reportar 2. SECURITY_IMPLEMENTATION_GUIDE.md - Como implementar 3. SECURITY_FIXES_SUMMARY.md - O que foi feito</p>"},{"location":"security/#voce-e-da-equipe-de-seguranca","title":"Voc\u00ea \u00e9 da Equipe de Seguran\u00e7a?","text":"<p>Leia: 1. SECURITY_AUDIT_REPORT.md - Auditoria completa 2. SECURITY_FIXES_SUMMARY.md - Corre\u00e7\u00f5es implementadas 3. SECURITY_CHANGELOG.md - Hist\u00f3rico t\u00e9cnico</p>"},{"location":"security/#voce-e-um-stakeholdergestor","title":"Voc\u00ea \u00e9 um Stakeholder/Gestor?","text":"<p>Leia: 1. SECURITY_EXECUTIVE_SUMMARY.md - Resumo executivo</p>"},{"location":"security/#voce-e-do-time-de-releasecomunicacao","title":"Voc\u00ea \u00e9 do Time de Release/Comunica\u00e7\u00e3o?","text":"<p>Leia: 1. SECURITY_CHANGELOG.md - Para release notes 2. SECURITY_EXECUTIVE_SUMMARY.md - Para comunicados</p>"},{"location":"security/#indice-de-conteudo","title":"\u00cdndice de Conte\u00fado","text":""},{"location":"security/#vulnerabilidades","title":"Vulnerabilidades","text":"<ul> <li>SQL Injection - SECURITY_AUDIT_REPORT.md - Se\u00e7\u00e3o 1</li> <li>Denial of Service - SECURITY_AUDIT_REPORT.md - Se\u00e7\u00e3o 2</li> <li>Connection Strings Expostas - SECURITY_AUDIT_REPORT.md - Se\u00e7\u00e3o 3</li> <li>Timing Attacks - SECURITY_AUDIT_REPORT.md - Se\u00e7\u00e3o 4</li> <li>Logs Sens\u00edveis - SECURITY_AUDIT_REPORT.md - Se\u00e7\u00e3o 5</li> <li>Rate Limiting - SECURITY_AUDIT_REPORT.md - Se\u00e7\u00e3o 6</li> </ul>"},{"location":"security/#correcoes","title":"Corre\u00e7\u00f5es","text":"<ul> <li>Valida\u00e7\u00e3o SQL - SECURITY_FIXES_SUMMARY.md - Valida\u00e7\u00f5es Implementadas - 1</li> <li>Limites de Tamanho - SECURITY_FIXES_SUMMARY.md - Valida\u00e7\u00f5es Implementadas - 2</li> <li>Valida\u00e7\u00e3o de Prefixos - SECURITY_FIXES_SUMMARY.md - Valida\u00e7\u00f5es Implementadas - 3</li> </ul>"},{"location":"security/#exemplos-de-codigo","title":"Exemplos de C\u00f3digo","text":"<ul> <li>SQL Injection Prevention - best-practices.md - Se\u00e7\u00e3o 1</li> <li>DoS Prevention - best-practices.md - Se\u00e7\u00e3o 2</li> <li>Audit Logging - best-practices.md - Monitoramento</li> <li>Rate Limiting - best-practices.md - Rate Limiting</li> <li>Configura\u00e7\u00e3o Segura - best-practices.md - Por Ambiente</li> </ul>"},{"location":"security/#testes","title":"Testes","text":"<ul> <li>Testes de Seguran\u00e7a - SECURITY_IMPLEMENTATION_GUIDE.md - Como Testar</li> <li>Teste Manual - SECURITY_IMPLEMENTATION_GUIDE.md - Teste Manual</li> <li>CI/CD - best-practices.md - Pr\u00f3ximas A\u00e7\u00f5es</li> </ul>"},{"location":"security/#inicio-rapido","title":"In\u00edcio R\u00e1pido","text":""},{"location":"security/#eu-quero-entender-o-que-foi-corrigido","title":"Eu quero entender o que foi corrigido","text":"<ol> <li>Leia o SECURITY_EXECUTIVE_SUMMARY.md</li> <li>Para mais detalhes: SECURITY_FIXES_SUMMARY.md</li> </ol>"},{"location":"security/#eu-quero-usar-configr-com-seguranca","title":"Eu quero usar ConfigR com seguran\u00e7a","text":"<ol> <li>Leia o SECURITY.md</li> <li>Siga as pr\u00e1ticas em best-practices.md</li> </ol>"},{"location":"security/#eu-quero-contribuir-com-codigo","title":"Eu quero contribuir com c\u00f3digo","text":"<ol> <li>Leia o SECURITY.md - Se\u00e7\u00e3o de Contribui\u00e7\u00e3o</li> <li>Siga o SECURITY_IMPLEMENTATION_GUIDE.md</li> </ol>"},{"location":"security/#eu-quero-reportar-uma-vulnerabilidade","title":"Eu quero reportar uma vulnerabilidade","text":"<ol> <li>N\u00c3O abra issue p\u00fablica</li> <li>Siga o processo em SECURITY.md - Reportando Vulnerabilidades</li> <li>Email: security@configr.dev</li> </ol>"},{"location":"security/#vulnerabilidades-conhecidas","title":"Vulnerabilidades Conhecidas","text":""},{"location":"security/#corrigidas","title":"Corrigidas","text":"<ul> <li>SQL Injection (Cr\u00edtica) - Corrigida em v1.x.x</li> <li>Denial of Service (Alta) - Corrigida em v1.x.x</li> </ul>"},{"location":"security/#em-documentacao","title":"Em Documenta\u00e7\u00e3o","text":"<ul> <li>Connection Strings Expostas (M\u00e9dia) - Documentado em SECURITY.md</li> <li>Timing Attacks (M\u00e9dia) - Documentado em best-practices.md</li> <li>Logs Sens\u00edveis (M\u00e9dia) - Documentado em best-practices.md</li> </ul>"},{"location":"security/#baixa-prioridade","title":"Baixa Prioridade","text":"<ul> <li>Rate Limiting - Documentado com exemplos</li> </ul>"},{"location":"security/#estatisticas-de-seguranca","title":"Estat\u00edsticas de Seguran\u00e7a","text":"<pre><code>Vulnerabilidades Cr\u00edticas:     0\nVulnerabilidades Altas:         0\nVulnerabilidades M\u00e9dias:        3 (documentadas)\nVulnerabilidades Baixas:        1 (documentada)\n\nProviders Protegidos:           6/6\nCobertura de Valida\u00e7\u00e3o:         100%\nTestes de Seguran\u00e7a:            10+\nP\u00e1ginas de Documenta\u00e7\u00e3o:        50+\n</code></pre>"},{"location":"security/#politica-de-seguranca","title":"Pol\u00edtica de Seguran\u00e7a","text":""},{"location":"security/#supported-versions","title":"Supported Versions","text":"Version Supported 1.x ? &lt; 1.0 ?"},{"location":"security/#reporting","title":"Reporting","text":"<p>Email: security@configr.dev Response Time: 48 hours Security Advisories: https://github.com/mbanagouro/configr/security</p>"},{"location":"security/#contatos","title":"Contatos","text":"<p>Seguran\u00e7a: security@configr.dev Issues: https://github.com/mbanagouro/configr/issues Discussions: https://github.com/mbanagouro/configr/discussions Documentation: https://mbanagouro.github.io/configr</p>"},{"location":"security/#atualizacoes","title":"Atualiza\u00e7\u00f5es","text":"<p>Este conjunto de documentos \u00e9 atualizado sempre que: - Novas vulnerabilidades s\u00e3o descobertas - Corre\u00e7\u00f5es s\u00e3o implementadas - Melhores pr\u00e1ticas evoluem - Novos providers s\u00e3o adicionados</p> <p>\u00daltima atualiza\u00e7\u00e3o: Janeiro 2025</p>"},{"location":"security/#checklist-de-seguranca","title":"Checklist de Seguran\u00e7a","text":"<p>Antes de usar ConfigR em produ\u00e7\u00e3o:</p> <ul> <li>[ ] Li SECURITY.md</li> <li>[ ] Li best-practices.md</li> <li>[ ] Configurei TLS/SSL</li> <li>[ ] Removi senhas hardcoded</li> <li>[ ] Implementei audit logging</li> <li>[ ] Configurei rate limiting</li> <li>[ ] Validei configura\u00e7\u00f5es</li> <li>[ ] Revisei c\u00f3digo de seguran\u00e7a</li> <li>[ ] Executei testes de seguran\u00e7a</li> <li>[ ] Configurei monitoramento</li> </ul>"},{"location":"security/#recursos-adicionais","title":"Recursos Adicionais","text":""},{"location":"security/#owasp","title":"OWASP","text":"<ul> <li>OWASP Top 10</li> <li>SQL Injection Prevention</li> <li>Input Validation</li> </ul>"},{"location":"security/#microsoft","title":"Microsoft","text":"<ul> <li>.NET Security Guidelines</li> <li>Azure Security Best Practices</li> </ul>"},{"location":"security/#cwe","title":"CWE","text":"<ul> <li>CWE-89: SQL Injection</li> <li>CWE-400: Uncontrolled Resource Consumption</li> <li>CWE-20: Improper Input Validation</li> </ul> <p>Mantido por: ConfigR Security Team Status: Ativo e Atualizado Confidencialidade: P\u00fablico</p> <p>Este README \u00e9 parte da documenta\u00e7\u00e3o oficial de seguran\u00e7a do ConfigR.</p>"},{"location":"security/best-practices/","title":"Guia de Boas Pr\u00e1ticas de Seguran\u00e7a - ConfigR","text":"<p>Este documento fornece orienta\u00e7\u00f5es essenciais para uso seguro do ConfigR em ambientes de produ\u00e7\u00e3o.</p>"},{"location":"security/best-practices/#o-que-nunca-fazer","title":"O QUE NUNCA FAZER","text":""},{"location":"security/best-practices/#1-armazenar-senhas-ou-secrets","title":"1. Armazenar Senhas ou Secrets","text":"<pre><code>// NUNCA FA\u00c7A ISSO\npublic class DatabaseConfig\n{\n    public string ConnectionString { get; set; }\n    public string AdminPassword { get; set; }  // NUNCA!\n    public string ApiKey { get; set; }          // NUNCA!\n}\n</code></pre> <p>Por qu\u00ea? - ConfigR n\u00e3o criptografa dados por padr\u00e3o - Dados ficam em texto plano no banco - Viola\u00e7\u00e3o de compliance (PCI-DSS, SOC 2, ISO 27001)</p> <p>Use em vez disso: <pre><code>// Azure Key Vault\nbuilder.Configuration.AddAzureKeyVault(\n    new Uri(\"https://myvault.vault.azure.net/\"),\n    new DefaultAzureCredential());\n\nvar apiKey = builder.Configuration[\"ApiKey\"]; // Do Key Vault\n\n// AWS Secrets Manager\nbuilder.Configuration.AddSecretsManager();\n\n// HashiCorp Vault\nbuilder.Configuration.AddVaultConfiguration(...);\n</code></pre></p>"},{"location":"security/best-practices/#2-expor-apis-de-configuracao-sem-autenticacao","title":"2. Expor APIs de Configura\u00e7\u00e3o Sem Autentica\u00e7\u00e3o","text":"<pre><code>// PERIGOSO - Qualquer um pode modificar\n[HttpPost(\"config\")]\n[AllowAnonymous]  // NUNCA!\npublic async Task UpdateConfig([FromBody] MyConfig config)\n{\n    await _configR.SaveAsync(config);\n}\n</code></pre> <p>Use autentica\u00e7\u00e3o forte: <pre><code>[HttpPost(\"config\")]\n[Authorize(Policy = \"AdminOnly\")]\n[RequireHttps]\npublic async Task UpdateConfig([FromBody] MyConfig config)\n{\n    // Log de auditoria\n    _logger.LogWarning(\n        \"Config {Type} modified by {User} from {IP}\",\n        typeof(MyConfig).Name,\n        User.Identity?.Name,\n        HttpContext.Connection.RemoteIpAddress);\n\n    await _configR.SaveAsync(config);\n}\n</code></pre></p>"},{"location":"security/best-practices/#3-usar-connection-strings-com-senhas-hardcoded","title":"3. Usar Connection Strings com Senhas Hardcoded","text":"<pre><code>// N\u00c3O FAZER\n{\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Server=prod.db.com;User=admin;Password=Pass123!;\"\n  }\n}\n</code></pre> <p>Use User Secrets (Desenvolvimento): <pre><code>dotnet user-secrets init\ndotnet user-secrets set \"ConnectionStrings:ConfigR\" \"Server=localhost;...\"\n</code></pre></p> <p>Use Vari\u00e1veis de Ambiente (Produ\u00e7\u00e3o): <pre><code># Linux/Docker\nexport ConnectionStrings__ConfigR=\"Server=prod;...\"\n\n# Azure App Service\n# Configure em Application Settings\n</code></pre></p> <p>Use Managed Identity: <pre><code>// Azure SQL com Managed Identity\n\"Server=myserver.database.windows.net;Authentication=Active Directory Default;Database=configr;\"\n\n// AWS RDS com IAM\n\"Server=mydb.region.rds.amazonaws.com;Integrated Security=true;...\"\n</code></pre></p>"},{"location":"security/best-practices/#4-armazenar-pii-dados-pessoais","title":"4. Armazenar PII (Dados Pessoais)","text":"<pre><code>// VIOLA\u00c7\u00c3O DE LGPD/GDPR\npublic class UserConfig\n{\n    public string CPF { get; set; }           // NUNCA!\n    public string Email { get; set; }          // NUNCA!\n    public string Address { get; set; }        // NUNCA!\n}\n</code></pre> <p>Por qu\u00ea? - ConfigR n\u00e3o tem recursos de anonimiza\u00e7\u00e3o - Viola\u00e7\u00e3o de LGPD/GDPR - N\u00e3o tem auditoria de acesso a PII</p> <p>Use sistemas apropriados: - Customer Data Platforms (CDPs) - Bancos de dados com criptografia em campo - Sistemas com consent management</p>"},{"location":"security/best-practices/#o-que-sempre-fazer","title":"O QUE SEMPRE FAZER","text":""},{"location":"security/best-practices/#1-validar-todas-as-entradas","title":"1. Validar Todas as Entradas","text":"<pre><code>using System.ComponentModel.DataAnnotations;\n\npublic class CheckoutConfig\n{\n    [Range(1, 1000, ErrorMessage = \"MaxItems must be between 1 and 1000\")]\n    public int MaxItems { get; set; } = 20;\n\n    [StringLength(500, ErrorMessage = \"Description too long\")]\n    public string Description { get; set; } = string.Empty;\n\n    [RegularExpression(@\"^[a-zA-Z0-9\\s]+$\", ErrorMessage = \"Invalid characters\")]\n    public string Feature { get; set; } = \"enabled\";\n}\n\n// Validar antes de salvar\n[HttpPost(\"config\")]\npublic async Task&lt;IActionResult&gt; UpdateConfig([FromBody] CheckoutConfig config)\n{\n    if (!ModelState.IsValid)\n    {\n        return BadRequest(ModelState);\n    }\n\n    await _configR.SaveAsync(config);\n    return Ok();\n}\n</code></pre>"},{"location":"security/best-practices/#2-implementar-audit-logging","title":"2. Implementar Audit Logging","text":"<pre><code>public class AuditConfigR : IConfigR\n{\n    private readonly IConfigR _inner;\n    private readonly ILogger&lt;AuditConfigR&gt; _logger;\n    private readonly IHttpContextAccessor _httpContext;\n\n    public async Task SaveAsync&lt;T&gt;(T config) where T : new()\n    {\n        var user = _httpContext.HttpContext?.User.Identity?.Name ?? \"Anonymous\";\n        var ip = _httpContext.HttpContext?.Connection.RemoteIpAddress?.ToString() ?? \"Unknown\";\n        var type = typeof(T).Name;\n\n        _logger.LogWarning(\n            \"AUDIT: Config {ConfigType} modified by user {User} from IP {IP} at {Timestamp}\",\n            type, user, ip, DateTime.UtcNow);\n\n        await _inner.SaveAsync(config);\n\n        _logger.LogInformation(\"AUDIT: Config {ConfigType} saved successfully\", type);\n    }\n\n    public Task&lt;T&gt; GetAsync&lt;T&gt;() where T : new()\n    {\n        var user = _httpContext.HttpContext?.User.Identity?.Name ?? \"Anonymous\";\n        _logger.LogInformation(\"AUDIT: Config {ConfigType} accessed by {User}\", typeof(T).Name, user);\n\n        return _inner.GetAsync&lt;T&gt;();\n    }\n}\n\n// Registrar\nbuilder.Services.AddSingleton&lt;IConfigR, AuditConfigR&gt;();\n</code></pre>"},{"location":"security/best-practices/#3-usar-tlsssl-para-conexoes-de-banco","title":"3. Usar TLS/SSL para Conex\u00f5es de Banco","text":"<pre><code>// SQL Server\n\"Server=prod.db.com;Database=configr;Encrypt=True;TrustServerCertificate=False;...\"\n\n// MySQL\n\"Server=prod.db.com;Database=configr;SslMode=Required;SslCa=/path/to/ca.pem;...\"\n\n// PostgreSQL\n\"Host=prod.db.com;Database=configr;SSL Mode=Require;Trust Server Certificate=false;...\"\n\n// MongoDB\n\"mongodb://prod.db.com:27017/configr?ssl=true&amp;tlsAllowInvalidCertificates=false\"\n\n// Redis\n\"prod.redis.com:6380,ssl=true,password=...\"\n</code></pre>"},{"location":"security/best-practices/#4-implementar-rate-limiting","title":"4. Implementar Rate Limiting","text":"<pre><code>using Microsoft.AspNetCore.RateLimiting;\n\n// Program.cs\nbuilder.Services.AddRateLimiter(options =&gt;\n{\n    options.AddFixedWindowLimiter(\"config-api\", opt =&gt;\n    {\n        opt.Window = TimeSpan.FromMinutes(1);\n        opt.PermitLimit = 10;\n        opt.QueueLimit = 0;\n    });\n\n    options.OnRejected = async (context, token) =&gt;\n    {\n        context.HttpContext.Response.StatusCode = 429;\n        await context.HttpContext.Response.WriteAsync(\"Rate limit exceeded\", token);\n    };\n});\n\n// Controller\n[EnableRateLimiting(\"config-api\")]\n[HttpPost(\"config\")]\npublic async Task UpdateConfig([FromBody] MyConfig config) { }\n</code></pre>"},{"location":"security/best-practices/#5-principio-do-menor-privilegio-database","title":"5. Princ\u00edpio do Menor Privil\u00e9gio (Database)","text":"<pre><code>-- SQL Server: Criar usu\u00e1rio com permiss\u00f5es m\u00ednimas\nCREATE LOGIN configr_app WITH PASSWORD = 'StrongPassword!123';\nCREATE USER configr_app FOR LOGIN configr_app;\n\n-- Apenas SELECT, INSERT, UPDATE na tabela ConfigR\nGRANT SELECT, INSERT, UPDATE ON dbo.ConfigR TO configr_app;\n\n-- Remover permiss\u00f5es perigosas\nREVOKE DELETE, DROP, ALTER, CREATE FROM configr_app;\nDENY CONTROL ON DATABASE::configr TO configr_app;\n\n-- MySQL\nCREATE USER 'configr_app'@'%' IDENTIFIED BY 'StrongPassword!123';\nGRANT SELECT, INSERT, UPDATE ON configr.ConfigR TO 'configr_app'@'%';\nFLUSH PRIVILEGES;\n\n-- PostgreSQL\nCREATE ROLE configr_app WITH LOGIN PASSWORD 'StrongPassword!123';\nGRANT SELECT, INSERT, UPDATE ON configr.configr TO configr_app;\nREVOKE DELETE, DROP, TRUNCATE ON configr.configr FROM configr_app;\n</code></pre>"},{"location":"security/best-practices/#6-monitoramento-e-alertas","title":"6. Monitoramento e Alertas","text":"<pre><code>// Application Insights\nbuilder.Services.AddApplicationInsightsTelemetry();\n\n// Serilog com alertas\nLog.Logger = new LoggerConfiguration()\n    .WriteTo.Console()\n    .WriteTo.ApplicationInsights(telemetryConfiguration, TelemetryConverter.Traces)\n    .WriteTo.File(\"logs/configr-.txt\", rollingInterval: RollingInterval.Day)\n    .Enrich.WithProperty(\"Application\", \"ConfigR\")\n    .CreateLogger();\n\n// Alert em modifica\u00e7\u00f5es\npublic class AlertingConfigR : IConfigR\n{\n    private readonly IConfigR _inner;\n    private readonly IAlertService _alertService;\n\n    public async Task SaveAsync&lt;T&gt;(T config) where T : new()\n    {\n        await _inner.SaveAsync(config);\n\n        // Alertar time de seguran\u00e7a\n        await _alertService.SendAlertAsync(new Alert\n        {\n            Severity = AlertSeverity.Warning,\n            Message = $\"Configuration {typeof(T).Name} was modified\",\n            Timestamp = DateTime.UtcNow\n        });\n    }\n}\n</code></pre>"},{"location":"security/best-practices/#configuracoes-de-seguranca-por-ambiente","title":"Configura\u00e7\u00f5es de Seguran\u00e7a por Ambiente","text":""},{"location":"security/best-practices/#desenvolvimento","title":"Desenvolvimento","text":"<pre><code>// appsettings.Development.json\n{\n  \"ConfigR\": {\n    \"CacheDuration\": \"00:00:30\",  // 30 segundos para teste\n    \"EnableDetailedErrors\": true,\n    \"EnableDebugLogs\": true\n  },\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Server=localhost;Integrated Security=true;TrustServerCertificate=true;\"\n  }\n}\n</code></pre>"},{"location":"security/best-practices/#staging","title":"Staging","text":"<pre><code>// appsettings.Staging.json\n{\n  \"ConfigR\": {\n    \"CacheDuration\": \"00:05:00\",  // 5 minutos\n    \"EnableDetailedErrors\": true,\n    \"EnableDebugLogs\": false\n  }\n}\n\n// Use Azure Key Vault ou AWS Secrets Manager para connection string\n</code></pre>"},{"location":"security/best-practices/#producao","title":"Produ\u00e7\u00e3o","text":"<pre><code>// appsettings.Production.json\n{\n  \"ConfigR\": {\n    \"CacheDuration\": \"00:10:00\",  // 10 minutos\n    \"EnableDetailedErrors\": false,\n    \"EnableDebugLogs\": false\n  }\n}\n\n// Todas as secrets em Key Vault/Secrets Manager\n// Managed Identity para autentica\u00e7\u00e3o\n// TLS obrigat\u00f3rio\n// Rate limiting ativo\n// Audit logging obrigat\u00f3rio\n</code></pre>"},{"location":"security/best-practices/#testes-de-seguranca","title":"Testes de Seguran\u00e7a","text":"<pre><code>public class SecurityTests\n{\n    [Fact]\n    public void Should_Reject_SQL_Injection_In_TableName()\n    {\n        // Arrange\n        var maliciousName = \"ConfigR'; DROP TABLE Users; --\";\n\n        // Act\n        Action act = () =&gt; new SqlServerConfigStore(Options.Create(\n            new SqlServerConfigStoreOptions \n            { \n                Table = maliciousName \n            }));\n\n        // Assert\n        act.Should().Throw&lt;ArgumentException&gt;();\n    }\n\n    [Fact]\n    public async Task Should_Reject_Oversized_Values()\n    {\n        // Arrange\n        var store = CreateStore();\n        var oversizedValue = new string('X', 200_000_000); // 200MB\n\n        // Act\n        Func&lt;Task&gt; act = async () =&gt; await store.UpsertAsync(new[] \n        { \n            new ConfigEntry { Key = \"test\", Value = oversizedValue } \n        });\n\n        // Assert\n        await act.Should().ThrowAsync&lt;ArgumentException&gt;();\n    }\n}\n</code></pre>"},{"location":"security/best-practices/#checklist-de-seguranca","title":"Checklist de Seguran\u00e7a","text":"<p>Antes de implantar em produ\u00e7\u00e3o:</p> <ul> <li>[ ] Connection strings n\u00e3o t\u00eam senhas hardcoded</li> <li>[ ] TLS/SSL habilitado em todas as conex\u00f5es</li> <li>[ ] Usu\u00e1rio de banco com permiss\u00f5es m\u00ednimas</li> <li>[ ] Autentica\u00e7\u00e3o obrigat\u00f3ria em endpoints de config</li> <li>[ ] Autoriza\u00e7\u00e3o baseada em roles (Admin, Operator, etc)</li> <li>[ ] Valida\u00e7\u00e3o de entrada implementada</li> <li>[ ] Audit logging configurado</li> <li>[ ] Rate limiting ativo</li> <li>[ ] Monitoramento e alertas configurados</li> <li>[ ] Secrets em Key Vault/Secrets Manager</li> <li>[ ] Backups configurados</li> <li>[ ] Plano de resposta a incidentes documentado</li> <li>[ ] Testes de seguran\u00e7a automatizados</li> <li>[ ] Revis\u00e3o de c\u00f3digo focada em seguran\u00e7a</li> <li>[ ] Documenta\u00e7\u00e3o de seguran\u00e7a atualizada</li> </ul>"},{"location":"security/best-practices/#resposta-a-incidentes","title":"Resposta a Incidentes","text":""},{"location":"security/best-practices/#se-suspeitar-de-comprometimento","title":"Se suspeitar de comprometimento:","text":"<ol> <li> <p>Isolar Imediatamente <pre><code># Revogar acesso ao banco\nREVOKE ALL PRIVILEGES ON configr.* FROM 'configr_app'@'%';\n</code></pre></p> </li> <li> <p>Investigar</p> </li> <li>Revisar audit logs</li> <li>Verificar configura\u00e7\u00f5es modificadas recentemente</li> <li> <p>Identificar acessos suspeitos</p> </li> <li> <p>Remediar</p> </li> <li>Rotacionar todas as credenciais</li> <li>Restaurar configura\u00e7\u00f5es de backup</li> <li> <p>Aplicar patches de seguran\u00e7a</p> </li> <li> <p>Documentar</p> </li> <li>Post-mortem</li> <li>Li\u00e7\u00f5es aprendidas</li> <li>Melhorias necess\u00e1rias</li> </ol>"},{"location":"security/best-practices/#recursos-adicionais","title":"Recursos Adicionais","text":"<ul> <li>OWASP Top 10</li> <li>.NET Security Best Practices</li> <li>Azure Security Baseline</li> <li>CIS Benchmarks</li> </ul>"},{"location":"security/best-practices/#contato-de-seguranca","title":"Contato de Seguran\u00e7a","text":"<p>Email: michel@leanwork.com.br Security Advisories: https://github.com/mbanagouro/configr/security</p> <p>Lembre-se: Seguran\u00e7a \u00e9 um processo cont\u00ednuo, n\u00e3o um produto final!</p>"},{"location":"storage/mongodb/","title":"MongoDB Provider","text":"<p>Uso do provider MongoDB no ConfigR.</p>"},{"location":"storage/mongodb/#instalacao","title":"\ud83d\ude80 Instala\u00e7\u00e3o","text":"<pre><code>dotnet add package ConfigR.MongoDB\n</code></pre>"},{"location":"storage/mongodb/#configuracao","title":"\ud83d\udd27 Configura\u00e7\u00e3o","text":""},{"location":"storage/mongodb/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseMongoDb(\"mongodb://localhost:27017\", \"ConfigR\");\n</code></pre>"},{"location":"storage/mongodb/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"MongoDB\": {\n    \"ConnectionString\": \"mongodb://localhost:27017\",\n    \"DatabaseName\": \"ConfigR\"\n  }\n}\n</code></pre>"},{"location":"storage/mongodb/#estrutura-da-colecao","title":"\ud83d\udcca Estrutura da Cole\u00e7\u00e3o","text":"<p>O MongoDB armazena as configura\u00e7\u00f5es em uma cole\u00e7\u00e3o chamada <code>configr</code>:</p> <pre><code>{\n  \"_id\": ObjectId(\"...\"),\n  \"key\": \"checkout.loginrequired\",\n  \"value\": \"{\\\"loginRequired\\\":true}\",\n  \"scope\": null,\n  \"createdAt\": ISODate(\"2024-01-01T00:00:00Z\"),\n  \"updatedAt\": ISODate(\"2024-01-01T00:00:00Z\")\n}\n</code></pre>"},{"location":"storage/mongodb/#campos","title":"Campos","text":"<ul> <li>_id: Identificador \u00fanico do documento (ObjectId)</li> <li>key: Chave da configura\u00e7\u00e3o</li> <li>value: Valor da configura\u00e7\u00e3o (JSON stringificado)</li> <li>scope: Escopo opcional para multi-tenant</li> <li>createdAt: Data de cria\u00e7\u00e3o do documento</li> <li>updatedAt: Data da \u00faltima atualiza\u00e7\u00e3o</li> </ul>"},{"location":"storage/mongodb/#opcoes-de-configuracao","title":"\u2699\ufe0f Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":"<pre><code>var options = Options.Create(new MongoConfigStoreOptions\n{\n    ConnectionString = \"mongodb://localhost:27017\",\n    DatabaseName = \"ConfigR\",\n    CollectionName = \"configr\"\n});\n\nvar store = new MongoConfigStore(options);\n</code></pre>"},{"location":"storage/mongodb/#exemplo-completo","title":"\ud83d\udcdd Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseMongoDb(\"mongodb://localhost:27017\", \"ConfigR\");\n\n// Uso em controller/service\nvar checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\nif (checkout.LoginRequired)\n{\n    // ...\n}\n\ncheckout.MaxItems = 50;\nawait _configR.SaveAsync(checkout);\n</code></pre>"},{"location":"storage/mongodb/#testes","title":"\ud83e\uddea Testes","text":"<p>O provider MongoDB possui testes completos incluindo:</p> <ul> <li>ConfigStoreTests: Testes de CRUD b\u00e1sico e scopes</li> <li>IntegrationTests: Testes de fluxo completo com tipos complexos</li> <li>ConcurrencyTests: Testes de leitura/escrita paralela</li> </ul> <p>Para executar os testes do MongoDB:</p> <pre><code># Iniciar container MongoDB\ndocker run -d --name mongo-configr \\\n  -p 27017:27017 mongo:7\n\n# Executar testes\ndotnet test\n\n# Limpar\ndocker stop mongo-configr &amp;&amp; docker rm mongo-configr\n</code></pre>"},{"location":"storage/mongodb/#consideracoes-de-performance","title":"\ud83d\udca1 Considera\u00e7\u00f5es de Performance","text":"<ul> <li>MongoDB \u00e9 excelente para documentos aninhados e JSON complexos</li> <li>Use scopes para isolamento multi-tenant</li> <li>Cache em mem\u00f3ria (ConfigR.Core) reduz queries ao banco</li> <li>\u00cdndices autom\u00e1ticos em <code>(key, scope)</code> para performance</li> <li>Ideal para configura\u00e7\u00f5es din\u00e2micas e evolutivas</li> <li>Suporta replica\u00e7\u00e3o e alta disponibilidade nativa</li> <li>Considere usar TTL (Time To Live) para expira\u00e7\u00e3o autom\u00e1tica de configura\u00e7\u00f5es</li> </ul>"},{"location":"storage/mysql/","title":"MySQL Provider","text":"<p>Uso do provider MySQL no ConfigR.</p>"},{"location":"storage/mysql/#instalacao","title":"\ud83d\ude80 Instala\u00e7\u00e3o","text":"<pre><code>dotnet add package ConfigR.MySql\n</code></pre>"},{"location":"storage/mysql/#configuracao","title":"\ud83d\udd27 Configura\u00e7\u00e3o","text":""},{"location":"storage/mysql/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseMySql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"storage/mysql/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Server=localhost;Database=configr;User Id=root;Password=root;\"\n  }\n}\n</code></pre>"},{"location":"storage/mysql/#estrutura-da-tabela","title":"\ud83d\udcca Estrutura da Tabela","text":"<pre><code>CREATE TABLE IF NOT EXISTS configr (\n    id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    cfg_key VARCHAR(255) NOT NULL,\n    cfg_value TEXT NOT NULL,\n    scope VARCHAR(255) NULL,\n    UNIQUE KEY uk_config (cfg_key, scope)\n);\n</code></pre>"},{"location":"storage/mysql/#campos","title":"Campos","text":"<ul> <li>id: Identificador \u00fanico auto-incremento</li> <li>cfg_key: Chave da configura\u00e7\u00e3o (at\u00e9 255 caracteres)</li> <li>cfg_value: Valor da configura\u00e7\u00e3o (texto livre, suporta JSON)</li> <li>scope: Escopo opcional para multi-tenant (at\u00e9 255 caracteres)</li> </ul>"},{"location":"storage/mysql/#opcoes-de-configuracao","title":"\u2699\ufe0f Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":"<pre><code>var options = Options.Create(new MySqlConfigStoreOptions\n{\n    ConnectionString = \"Server=localhost;Database=configr;User Id=root;Password=root;\",\n    Table = \"configr\"  // Nome da tabela (padr\u00e3o: \"configr\")\n});\n\nvar store = new MySqlConfigStore(options);\n</code></pre>"},{"location":"storage/mysql/#exemplo-completo","title":"\ud83d\udcdd Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseMySql(builder.Configuration.GetConnectionString(\"ConfigR\"))\n\n// Uso em controller/service\nvar checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\nif (checkout.LoginRequired)\n{\n    // ...\n}\n\ncheckout.MaxItems = 50;\nawait _configR.SaveAsync(checkout);\n</code></pre>"},{"location":"storage/mysql/#testes","title":"\ud83e\uddea Testes","text":"<p>O provider MySQL possui testes completos incluindo:</p> <ul> <li>ConfigStoreTests: Testes de CRUD b\u00e1sico e scopes</li> <li>IntegrationTests: Testes de fluxo completo com tipos complexos</li> <li>ConcurrencyTests: Testes de leitura/escrita paralela</li> </ul> <p>Para executar os testes do MySQL:</p> <pre><code># Iniciar container MySQL\ndocker run -d --name mysql-configr -e MYSQL_ROOT_PASSWORD=root -e MYSQL_DATABASE=configr_test -p 3306:3306 mysql:8\n\n# Executar testes\ndotnet test\n\n# Limpar\ndocker stop mysql-configr &amp;&amp; docker rm mysql-configr\n</code></pre>"},{"location":"storage/mysql/#consideracoes-de-performance","title":"\ud83d\udca1 Considera\u00e7\u00f5es de Performance","text":"<ul> <li>\u00cdndice \u00fanico em <code>(cfg_key, scope)</code> garante integridade e performance</li> <li>Use scopes para isolamento multi-tenant</li> <li>Cache em mem\u00f3ria (ConfigR.Core) reduz queries ao banco</li> <li>Textos longos s\u00e3o suportados com <code>TEXT</code></li> </ul>"},{"location":"storage/npgsql/","title":"PostgreSQL Provider (Npgsql)","text":"<p>Uso do provider PostgreSQL (Npgsql) no ConfigR.</p>"},{"location":"storage/npgsql/#instalacao","title":"\ud83d\ude80 Instala\u00e7\u00e3o","text":"<pre><code>dotnet add package ConfigR.Npgsql\n</code></pre>"},{"location":"storage/npgsql/#configuracao","title":"\ud83d\udd27 Configura\u00e7\u00e3o","text":""},{"location":"storage/npgsql/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseNpgsql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"storage/npgsql/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Host=localhost;Port=5432;Database=configr;Username=postgres;Password=postgres;\"\n  }\n}\n</code></pre>"},{"location":"storage/npgsql/#estrutura-da-tabela","title":"\ud83d\udcca Estrutura da Tabela","text":"<pre><code>CREATE SCHEMA IF NOT EXISTS public;\n\nCREATE TABLE IF NOT EXISTS public.configr (\n    id SERIAL PRIMARY KEY,\n    key TEXT NOT NULL,\n    value TEXT NOT NULL,\n    scope TEXT NULL,\n    UNIQUE(key, scope)\n);\n</code></pre>"},{"location":"storage/npgsql/#campos","title":"Campos","text":"<ul> <li>id: Identificador \u00fanico com auto-incremento (SERIAL)</li> <li>key: Chave da configura\u00e7\u00e3o (texto livre)</li> <li>value: Valor da configura\u00e7\u00e3o (texto livre, suporta JSON)</li> <li>scope: Escopo opcional para multi-tenant</li> </ul>"},{"location":"storage/npgsql/#opcoes-de-configuracao","title":"\u2699\ufe0f Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":"<pre><code>var options = Options.Create(new NpgsqlConfigStoreOptions\n{\n    ConnectionString = \"Host=localhost;Port=5432;Database=configr;Username=postgres;Password=postgres;\",\n    Schema = \"public\",        // Schema do banco de dados\n    Table = \"configr\",        // Nome da tabela\n    AutoCreateTable = true    // Criar tabela automaticamente\n});\n\nvar store = new NpgsqlConfigStore(options);\n</code></pre>"},{"location":"storage/npgsql/#exemplo-completo","title":"\ud83d\udcdd Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseNpgsql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n\n// Uso em controller/service\nvar checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\nif (checkout.LoginRequired)\n{\n    // ...\n}\n\ncheckout.MaxItems = 50;\nawait _configR.SaveAsync(checkout);\n</code></pre>"},{"location":"storage/npgsql/#testes","title":"\ud83e\uddea Testes","text":"<p>O provider PostgreSQL possui testes completos incluindo:</p> <ul> <li>ConfigStoreTests: Testes de CRUD b\u00e1sico e scopes</li> <li>IntegrationTests: Testes de fluxo completo com tipos complexos</li> <li>ConcurrencyTests: Testes de leitura/escrita paralela</li> </ul> <p>Para executar os testes do PostgreSQL:</p> <pre><code># Iniciar container PostgreSQL\ndocker run -d --name postgres-configr \\\n  -e POSTGRES_PASSWORD=postgres \\\n  -e POSTGRES_USER=postgres \\\n  -e POSTGRES_DB=configr \\\n  -p 5432:5432 postgres:16\n\n# Executar testes\ndotnet test\n\n# Limpar\ndocker stop postgres-configr &amp;&amp; docker rm postgres-configr\n</code></pre>"},{"location":"storage/npgsql/#consideracoes-de-performance","title":"\ud83d\udca1 Considera\u00e7\u00f5es de Performance","text":"<ul> <li>\u00cdndice \u00fanico em <code>(key, scope)</code> garante integridade e performance</li> <li>Suporta valores muito grandes com <code>TEXT</code></li> <li>Use scopes para isolamento multi-tenant</li> <li>Cache em mem\u00f3ria (ConfigR.Core) reduz queries ao banco</li> <li>PostgreSQL \u00e9 altamente otimizado para leitura/escrita paralela</li> <li>Considere usar <code>JSONB</code> para configura\u00e7\u00f5es complexas com <code>json_agg</code></li> </ul>"},{"location":"storage/overview/","title":"\ud83d\uddc4\ufe0f Storage Providers - Vis\u00e3o Geral","text":"<p>Escolha o backend de armazenamento que melhor se encaixa na sua infraestrutura.</p>"},{"location":"storage/overview/#comparacao-de-providers","title":"\ud83d\udcca Compara\u00e7\u00e3o de Providers","text":"Caracter\u00edstica SQL Server MySQL PostgreSQL MongoDB Redis RavenDB Tipo Relacional Relacional Relacional NoSQL Cache Multi-modelo Performance \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Escalabilidade \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Facilidade \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50\u2b50 Custo \u2b50\u2b50\u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50 \u2b50\u2b50\u2b50\u2b50 Persist\u00eancia \u2705 \u2705 \u2705 \u2705 \u26a0\ufe0f \u2705"},{"location":"storage/overview/#recomendacoes-por-cenario","title":"\ud83c\udfaf Recomenda\u00e7\u00f5es por Cen\u00e1rio","text":""},{"location":"storage/overview/#empresas-e-producao","title":"\ud83c\udfe2 Empresas e Produ\u00e7\u00e3o","text":"<p>\u2705 Recomendado: SQL Server ou PostgreSQL</p> <pre><code>dotnet add package ConfigR.SqlServer\n# ou\ndotnet add package ConfigR.Npgsql\n</code></pre> <p>Por qu\u00ea: - Confiabilidade extrema - Compliance e auditoria - Suporte corporativo - Transa\u00e7\u00f5es ACID garantidas - Backup e recovery robustos</p>"},{"location":"storage/overview/#startups-e-escalabilidade","title":"\ud83d\ude80 Startups e Escalabilidade","text":"<p>\u2705 Recomendado: MongoDB ou PostgreSQL</p> <pre><code>dotnet add package ConfigR.MongoDB\n# ou\ndotnet add package ConfigR.Npgsql\n</code></pre> <p>Por qu\u00ea: - Escalabilidade horizontal - Flexibilidade de schema - Replica\u00e7\u00e3o nativa - Performance sob alta demanda</p>"},{"location":"storage/overview/#alta-performance","title":"\u26a1 Alta Performance","text":"<p>\u2705 Recomendado: Redis</p> <pre><code>dotnet add package ConfigR.Redis\n</code></pre> <p>Por qu\u00ea: - Lat\u00eancia &lt; 1ms - Throughput alt\u00edssimo - Ideal para cache cr\u00edtico - Suporta features avan\u00e7adas</p>"},{"location":"storage/overview/#low-cost-prototipagem","title":"\ud83d\udcb0 Low-cost / Prototipagem","text":"<p>\u2705 Recomendado: MySQL</p> <pre><code>dotnet add package ConfigR.MySql\n</code></pre> <p>Por qu\u00ea: - Licen\u00e7a aberta - Hosting barato - F\u00e1cil de configurar - Suporte vasto</p>"},{"location":"storage/overview/#seguranca-critica","title":"\ud83d\udd12 Seguran\u00e7a Cr\u00edtica","text":"<p>\u2705 Recomendado: RavenDB</p> <pre><code>dotnet add package ConfigR.RavenDB\n</code></pre> <p>Por qu\u00ea: - Criptografia built-in - Controle de acesso fino - Compliance ready - Replica\u00e7\u00e3o segura</p>"},{"location":"storage/overview/#detalhes-por-provider","title":"\ud83d\udcd6 Detalhes por Provider","text":""},{"location":"storage/overview/#sql-server","title":"SQL Server","text":"<p>O padr\u00e3o, recomendado para a maioria dos casos.</p> <ul> <li>\u2705 Melhor performance em workloads OLTP</li> <li>\u2705 \u00cdndices otimizados</li> <li>\u2705 Enterprise-ready</li> <li>\u26a0\ufe0f Pode ser caro</li> </ul>"},{"location":"storage/overview/#mysql","title":"MySQL","text":"<p>Leveza e compatibilidade universal.</p> <ul> <li>\u2705 Mais leve que SQL Server</li> <li>\u2705 Altamente compat\u00edvel</li> <li>\u2705 F\u00e1cil de hospedar</li> <li>\u26a0\ufe0f Menos recursos avan\u00e7ados</li> </ul>"},{"location":"storage/overview/#postgresql-npgsql","title":"PostgreSQL (Npgsql)","text":"<p>Open-source robusto e poderoso.</p> <ul> <li>\u2705 Open source</li> <li>\u2705 Features avan\u00e7adas (JSON, arrays)</li> <li>\u2705 Excelente performance</li> <li>\u2705 Replica\u00e7\u00e3o nativa</li> </ul>"},{"location":"storage/overview/#mongodb","title":"MongoDB","text":"<p>NoSQL flex\u00edvel e escal\u00e1vel.</p> <ul> <li>\u2705 Schema flex\u00edvel</li> <li>\u2705 Escalabilidade horizontal</li> <li>\u2705 \u00d3timo para dados semi-estruturados</li> <li>\u26a0\ufe0f Menos eficiente que relacional para este caso</li> </ul>"},{"location":"storage/overview/#redis","title":"Redis","text":"<p>Cache ultra-r\u00e1pido em mem\u00f3ria.</p> <ul> <li>\u2705 Lat\u00eancia m\u00ednima</li> <li>\u2705 Alt\u00edssimo throughput</li> <li>\u2705 Perfect para cache cr\u00edtico</li> <li>\u26a0\ufe0f Sem persist\u00eancia por padr\u00e3o</li> </ul>"},{"location":"storage/overview/#ravendb","title":"RavenDB","text":"<p>Multi-modelo enterprise com recursos avan\u00e7ados.</p> <ul> <li>\u2705 Seguran\u00e7a built-in</li> <li>\u2705 ACID distribu\u00eddo</li> <li>\u2705 Replica\u00e7\u00e3o transparente</li> <li>\u26a0\ufe0f Menos comum, comunidade menor</li> </ul>"},{"location":"storage/overview/#quick-start-por-provider","title":"\ud83d\udcbb Quick Start por Provider","text":""},{"location":"storage/overview/#sql-server_1","title":"SQL Server","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"storage/overview/#mysql_1","title":"MySQL","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseMySql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"storage/overview/#postgresql","title":"PostgreSQL","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseNpgsql(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"storage/overview/#mongodb_1","title":"MongoDB","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseMongoDb(\"mongodb://localhost:27017\", \"ConfigR\");\n</code></pre>"},{"location":"storage/overview/#redis_1","title":"Redis","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseRedis(\"localhost:6379\");\n</code></pre>"},{"location":"storage/overview/#ravendb_1","title":"RavenDB","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseRavenDb(new[] { \"http://localhost:8080\" }, \"ConfigR\");\n</code></pre>"},{"location":"storage/overview/#migrar-entre-providers","title":"\ud83d\udd04 Migrar Entre Providers","text":"<p>Voc\u00ea pode migrar dados entre providers:</p> <pre><code>// 1. Ler do provider antigo\nvar oldStore = new SqlServerConfigStore(/* ... */);\nvar allConfigs = await oldStore.GetAllAsync();\n\n// 2. Escrever no novo provider\nvar newStore = new MySqlConfigStore(/* ... */);\nforeach (var config in allConfigs)\n{\n    await newStore.SaveAsync(config.Key, config.Value, config.Scope);\n}\n</code></pre>"},{"location":"storage/overview/#boas-praticas","title":"\u2705 Boas Pr\u00e1ticas","text":""},{"location":"storage/overview/#faca","title":"\u2705 Fa\u00e7a","text":"<ul> <li>Escolha o provider baseado em seus requisitos</li> <li>Teste a performance com seus dados reais</li> <li>Implemente backup adequado</li> <li>Monitore a sa\u00fade do banco de dados</li> <li>Use replica\u00e7\u00e3o para alta disponibilidade</li> </ul>"},{"location":"storage/overview/#evite","title":"\u274c Evite","text":"<ul> <li>Trocar de provider sem planejar</li> <li>Usar Redis como persist\u00eancia principal</li> <li>Ignorar limites de conex\u00e3o</li> <li>N\u00e3o fazer backup</li> <li>Misturar providers sem motivo</li> </ul>"},{"location":"storage/overview/#proximos-passos","title":"\ud83d\udcda Pr\u00f3ximos Passos","text":"<ul> <li>\ud83d\udd27 Escolha seu Provider</li> <li>\ud83d\ude80 In\u00edcio R\u00e1pido</li> <li>\ud83d\udcd6 Refer\u00eancia da API</li> </ul>"},{"location":"storage/ravendb/","title":"RavenDB Provider","text":"<p>Uso do provider RavenDB no ConfigR.</p>"},{"location":"storage/ravendb/#instalacao","title":"\u2705 Instala\u00e7\u00e3o","text":"<pre><code>dotnet add package ConfigR.RavenDB\n</code></pre>"},{"location":"storage/ravendb/#configuracao","title":"\u2699\ufe0f Configura\u00e7\u00e3o","text":""},{"location":"storage/ravendb/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseRavenDb(new[] { \"http://localhost:8080\" }, \"ConfigR\");\n</code></pre>"},{"location":"storage/ravendb/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"RavenDB\": {\n    \"Urls\": [ \"http://localhost:8080\" ],\n    \"Database\": \"ConfigR\"\n  }\n}\n</code></pre>"},{"location":"storage/ravendb/#estrutura-de-documentos","title":"\ud83d\uddc4\ufe0f Estrutura de Documentos","text":"<p>O RavenDB armazena cada chave de configura\u00e7\u00e3o como um documento:</p> <pre><code>{\n  \"Id\": \"ConfigR/__default__/checkout.loginrequired\",\n  \"Key\": \"checkout.loginrequired\",\n  \"Value\": \"{\\\"loginRequired\\\":true}\",\n  \"Scope\": null\n}\n</code></pre> <ul> <li>Id: <code>{KeyPrefix}/{scope||__default__}/{key}</code></li> <li>Key: Chave formatada do ConfigR</li> <li>Value: JSON serializado</li> <li>Scope: Escopo opcional (null para global)</li> </ul>"},{"location":"storage/ravendb/#opcoes-de-configuracao","title":"\ud83d\udd27 Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":"<pre><code>var documentStore = new DocumentStore\n{\n    Urls = new[] { \"http://localhost:8080\" },\n    Database = \"ConfigR\"\n};\ndocumentStore.Initialize();\n\nvar options = Options.Create(new RavenDbConfigStoreOptions\n{\n    Urls = new[] { \"http://localhost:8080\" },\n    Database = \"ConfigR\",\n    KeyPrefix = \"configr\"\n});\n</code></pre>"},{"location":"storage/ravendb/#exemplo-completo","title":"\ud83d\ude80 Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseRavenDb(new[] { \"http://localhost:8080\" }, \"ConfigR\");\n\n// Uso em controller/service\nvar checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\ncheckout.MaxItems = 50;\nawait _configR.SaveAsync(checkout);\n</code></pre>"},{"location":"storage/ravendb/#testes","title":"\ud83e\uddea Testes","text":"<p>O provider RavenDB possui testes de ConfigStore, integra\u00e7\u00e3o e concorr\u00eancia.</p> <pre><code>docker run -d --name ravendb-configr \\\n  -p 8080:8080 \\\n  -e RAVEN_Setup_Mode=None \\\n  -e RAVEN_License_Eula_Accepted=true \\\n  -e RAVEN_Security_UnsecuredAccessAllowed=PublicNetwork \\\n  ravendb/ravendb:6.0-ubuntu-latest\n\ndotnet test\n\ndocker stop ravendb-configr &amp;&amp; docker rm ravendb-configr\n</code></pre>"},{"location":"storage/ravendb/#consideracoes-de-performance","title":"\ud83d\udcc8 Considera\u00e7\u00f5es de Performance","text":"<ul> <li>Armazenamento orientado a documentos, ideal para configura\u00e7\u00f5es complexas</li> <li>IDs \u00fanicos por chave/escopo evitam duplicidade</li> <li>Consultas usam <code>WaitForNonStaleResults</code> para consist\u00eancia imediata nos testes</li> <li>Cache em mem\u00f3ria do ConfigR reduz leituras no cluster</li> <li>Configure r\u00e9plicas do RavenDB para alta disponibilidade</li> </ul>"},{"location":"storage/redis/","title":"Redis Provider","text":"<p>Uso do provider Redis no ConfigR.</p>"},{"location":"storage/redis/#instalacao","title":"\ud83d\ude80 Instala\u00e7\u00e3o","text":"<pre><code>dotnet add package ConfigR.Redis\n</code></pre>"},{"location":"storage/redis/#configuracao","title":"\ud83d\udd27 Configura\u00e7\u00e3o","text":""},{"location":"storage/redis/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseRedis(\"localhost:6379\");\n</code></pre>"},{"location":"storage/redis/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"Redis\": {\n    \"ConnectionString\": \"localhost:6379\"\n  }\n}\n</code></pre>"},{"location":"storage/redis/#estrutura-de-armazenamento","title":"\ud83d\udcca Estrutura de Armazenamento","text":"<p>O Redis armazena as configura\u00e7\u00f5es como strings serializadas em JSON:</p> <pre><code>Key (no Redis): \"ConfigR:checkout.loginrequired:null\"\nValue: \"{\\\"loginRequired\\\":true}\"\n\nKey (no Redis): \"ConfigR:checkout.loginrequired:loja-1\"\nValue: \"{\\\"loginRequired\\\":false}\"\n</code></pre>"},{"location":"storage/redis/#padrao-de-chave","title":"Padr\u00e3o de Chave","text":"<pre><code>ConfigR:{config-key}:{scope}\n</code></pre> <ul> <li>ConfigR: Prefixo padr\u00e3o</li> <li>{config-key}: Chave da configura\u00e7\u00e3o</li> <li>{scope}: Escopo (ou \"null\" se sem escopo)</li> </ul>"},{"location":"storage/redis/#opcoes-de-configuracao","title":"\u2699\ufe0f Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":"<pre><code>var options = Options.Create(new RedisConfigStoreOptions\n{\n    ConnectionString = \"localhost:6379\",\n    KeyPrefix = \"ConfigR\",    // Prefixo das chaves (padr\u00e3o: \"ConfigR\")\n    ExpirationMinutes = null  // TTL em minutos (null = sem expira\u00e7\u00e3o)\n});\n\nvar store = new RedisConfigStore(options);\n</code></pre>"},{"location":"storage/redis/#exemplo-completo","title":"\ud83d\udcdd Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseRedis(\"localhost:6379\");\n\n// Uso em controller/service\nvar checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\nif (checkout.LoginRequired)\n{\n    // ...\n}\n\ncheckout.MaxItems = 50;\nawait _configR.SaveAsync(checkout);\n</code></pre>"},{"location":"storage/redis/#testes","title":"\ud83e\uddea Testes","text":"<p>O provider Redis possui testes completos incluindo:</p> <ul> <li>ConfigStoreTests: Testes de CRUD b\u00e1sico e scopes</li> <li>IntegrationTests: Testes de fluxo completo com tipos complexos</li> <li>ConcurrencyTests: Testes de leitura/escrita paralela</li> </ul> <p>Para executar os testes do Redis:</p> <pre><code># Iniciar container Redis\ndocker run -d --name redis-configr \\\n  -p 6379:6379 redis:7\n\n# Executar testes\ndotnet test\n\n# Limpar\ndocker stop redis-configr &amp;&amp; docker rm redis-configr\n</code></pre>"},{"location":"storage/redis/#consideracoes-de-performance","title":"\ud83d\udca1 Considera\u00e7\u00f5es de Performance","text":"<ul> <li>Redis \u00e9 extremamente r\u00e1pido para leitura/escrita (em mem\u00f3ria)</li> <li>Ideal para configura\u00e7\u00f5es com alta frequ\u00eancia de acesso</li> <li>Use scopes para isolamento multi-tenant</li> <li>Cache duplo: Redis (persist\u00eancia) + MemoryCache (aplica\u00e7\u00e3o)</li> <li>TTL autom\u00e1tico para limpeza de chaves antigas</li> <li>Suporta pub/sub para notifica\u00e7\u00f5es de mudan\u00e7as</li> <li>Considere usar Redis Cluster para alta disponibilidade</li> <li>\u26a0\ufe0f Dados residem em mem\u00f3ria - n\u00e3o ideal para grandes volumes</li> </ul>"},{"location":"storage/sql-server/","title":"SQL Server Provider","text":"<p>Uso do provider SQL Server no ConfigR.</p>"},{"location":"storage/sql-server/#instalacao","title":"\ud83d\ude80 Instala\u00e7\u00e3o","text":"<pre><code>dotnet add package ConfigR.SqlServer\n</code></pre>"},{"location":"storage/sql-server/#configuracao","title":"\ud83d\udd27 Configura\u00e7\u00e3o","text":""},{"location":"storage/sql-server/#registrar-no-di","title":"Registrar no DI","text":"<pre><code>builder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n</code></pre>"},{"location":"storage/sql-server/#appsettingsjson","title":"appsettings.json","text":"<pre><code>{\n  \"ConnectionStrings\": {\n    \"ConfigR\": \"Server=localhost,1433;Database=configr;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\"\n  }\n}\n</code></pre>"},{"location":"storage/sql-server/#estrutura-da-tabela","title":"\ud83d\udcca Estrutura da Tabela","text":"<pre><code>CREATE TABLE [dbo].[ConfigR] (\n    [Id] INT IDENTITY(1,1) PRIMARY KEY,\n    [Key] NVARCHAR(256) NOT NULL,\n    [Value] NVARCHAR(MAX) NOT NULL,\n    [Scope] NVARCHAR(128) NULL\n);\n\nCREATE UNIQUE INDEX IX_ConfigR_Key_Scope\n    ON [dbo].[ConfigR] ([Key], [Scope]);\n</code></pre>"},{"location":"storage/sql-server/#campos","title":"Campos","text":"<ul> <li>Id: Identificador \u00fanico com auto-incremento</li> <li>Key: Chave da configura\u00e7\u00e3o (at\u00e9 256 caracteres)</li> <li>Value: Valor da configura\u00e7\u00e3o (suporta at\u00e9 2GB com NVARCHAR(MAX))</li> <li>Scope: Escopo opcional para multi-tenant (at\u00e9 128 caracteres)</li> </ul>"},{"location":"storage/sql-server/#opcoes-de-configuracao","title":"\u2699\ufe0f Op\u00e7\u00f5es de Configura\u00e7\u00e3o","text":"<pre><code>var options = Options.Create(new SqlServerConfigStoreOptions\n{\n    ConnectionString = \"Server=localhost,1433;Database=configr;User Id=sa;Password=Pass@123;TrustServerCertificate=True;\",\n    Schema = \"dbo\",           // Schema do banco de dados\n    Table = \"ConfigR\",        // Nome da tabela\n    AutoCreateTable = true    // Criar tabela automaticamente\n});\n\nvar store = new SqlServerConfigStore(options);\n</code></pre>"},{"location":"storage/sql-server/#exemplo-completo","title":"\ud83d\udcdd Exemplo Completo","text":"<pre><code>// Classe de configura\u00e7\u00e3o\npublic sealed class CheckoutConfig\n{\n    public bool LoginRequired { get; set; } = true;\n    public int MaxItems { get; set; } = 20;\n}\n\n// Program.cs\nbuilder.Services\n    .AddConfigR()\n    .UseSqlServer(builder.Configuration.GetConnectionString(\"ConfigR\"));\n\n// Uso em controller/service\nvar checkout = await _configR.GetAsync&lt;CheckoutConfig&gt;();\n\nif (checkout.LoginRequired)\n{\n    // ...\n}\n\ncheckout.MaxItems = 50;\nawait _configR.SaveAsync(checkout);\n</code></pre>"},{"location":"storage/sql-server/#testes","title":"\ud83e\uddea Testes","text":"<p>O provider SQL Server possui testes completos incluindo:</p> <ul> <li>ConfigStoreTests: Testes de CRUD b\u00e1sico e scopes</li> <li>IntegrationTests: Testes de fluxo completo com tipos complexos</li> <li>ConcurrencyTests: Testes de leitura/escrita paralela</li> </ul> <p>Para executar os testes do SQL Server:</p> <pre><code># Iniciar container SQL Server\ndocker run -e \"ACCEPT_EULA=Y\" -e \"SA_PASSWORD=Pass@123\" \\\n  -p 1433:1433 --name sqlserver-configr -d mcr.microsoft.com/mssql/server:2022-latest\n\n# Executar testes\ndotnet test\n\n# Limpar\ndocker stop sqlserver-configr &amp;&amp; docker rm sqlserver-configr\n</code></pre>"},{"location":"storage/sql-server/#consideracoes-de-performance","title":"\ud83d\udca1 Considera\u00e7\u00f5es de Performance","text":"<ul> <li>\u00cdndice \u00fanico em <code>(Key, Scope)</code> garante integridade e performance</li> <li>Suporta valores muito grandes com <code>NVARCHAR(MAX)</code></li> <li>Use scopes para isolamento multi-tenant</li> <li>Cache em mem\u00f3ria (ConfigR.Core) reduz queries ao banco</li> <li>\u00cdndices autom\u00e1ticos para buscas r\u00e1pidas</li> </ul>"}]}